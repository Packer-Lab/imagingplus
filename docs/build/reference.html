
<!DOCTYPE html>

<html lang="en">
<head>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta charset="utf-8"/>
<meta content="Docutils 0.17.1: http://docutils.sourceforge.net/" name="generator"/>
<title>API reference | imaging+ 0.2-beta documentation</title>
<link href="_static/pygments.css" rel="stylesheet"/>
<link href="_static/theme.9297a650d9dd3016d913.css" rel="stylesheet"/>
<link href="_static/sg_gallery.css" rel="stylesheet"/>
<link href="search.html" rel="search" title="Search"/>
<link href="genindex.html" rel="index" title="Index"/>
<link href="making-plots.html" rel="prev" title="Plotting of data and analyses"/>
</head>
<body class="antialiased text-gray scroll-smooth">
<div class="min-h-screen xl:h-screen flex flex-col xl:grid xl:grid-layout print:block print:h-auto" data-action="keydown@window-&gt;search#focus " data-controller="sidebar search " id="page">
<a class="block transition -translate-x-full focus:translate-x-0 opacity-0 focus:opacity-100 text-xl bg-white p-4 z-20 absolute top-0 left-0 h-14" href="#api-reference" title="Skip navigation links">Skip to content</a>
<header class="grid-area-header z-10 h-14 fixed w-full top-0 print:hidden">
<div class="bg-gray-dark shadow-md flex items-center h-full xl:px-2 relative"><div class="flex items-center">
<button class="xl:hidden h-14 w-14 leading-14 text-gray-100 hover:bg-gray-700 hover:text-brand focus:outline-none focus:bg-gray-700 focus:text-brand" data-action="sidebar#open" data-sidebar-target="hamburger">
<span class="sr-only">Open navigation menu</span>
<svg aria-hidden="true" class="fill-current h-8 w-8" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path></svg>
</button><a class="hover:bg-gray-700 focus:bg-gray-700 focus:outline-none" href="index.html" title="Back to homepage"><img alt="Logo" class="h-14 w-14 p-3 inline-block" src="_static/imagingplus-logo.png"/><span class="hidden lg:inline-block shrink-0 font-medium text-gray-100 mx-5 leading-14 tracking-wider">imaging+ 0.2-beta documentation</span>
</a></div><div class="flex justify-end items-center flex-1"><form action="search.html" class="flex print:hidden justify-between items-center leading-14 md:ml-4 bg-gray-dark text-gray-300 focus-within:bg-gray-50 focus-within:text-gray-800 focus-within:absolute focus-within:inset-x-0 focus-within:top-0 md:focus-within:w-full md:focus-within:static z-10" data-action="click-&gt;search#focusSearchInput" id="searchbox" method="get">
<button aria-label="Get search results" class="text-inherit h-14 w-14" tabindex="-1">
<svg aria-hidden="true" class="fill-current stroke-current h-8 w-8" stroke-width="0.5" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path></svg>
</button>
<input aria-label="Search the docs" class="pr-2 bg-transparent text-inherit focus:outline-none w-0 md:w-auto focus:w-full transition-all duration-100" data-search-target="searchInput" id="search-input" name="q" placeholder="Search the docs" type="search"/>
</form></div>
</div>
</header>
<aside class="grid-area-sidebar h-full fixed pt-14 xl:relative inset-y-0 left-0 z-20 xl:z-0 print:hidden overflow-y-auto transition-all transform transform-gpu -translate-x-full opacity-0 duration-300 xl:translate-x-0 xl:opacity-100" data-sidebar-target="sidebar">
<nav class="h-full overflow-y-auto bg-white text-gray-600 pt-8 flex flex-col" role="navigation">
<div class="nav-toc flex-1 pl-6"><ul class="current">
<li class="toctree-l1"><div class="nav-link"><svg class="expand" data-action="click-&gt;sidebar#expand keydown-&gt;sidebar#expandKeyPressed" tabindex="0" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg><a class="reference internal" data-action="click-&gt;sidebar#close" href="installation.html">Installation</a></div><ul>
<li class="toctree-l2"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="installation.html#installation">Installation</a></div></li>
<li class="toctree-l2"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="installation.html#test-import-installation">Test/Import Installation</a></div></li>
<li class="toctree-l2"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="installation.html#dependencies">Dependencies</a></div></li>
<li class="toctree-l2"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="installation.html#next">Next</a></div></li>
</ul>
</li>
<li class="toctree-l1"><div class="nav-link"><svg class="expand" data-action="click-&gt;sidebar#expand keydown-&gt;sidebar#expandKeyPressed" tabindex="0" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg><a class="reference internal" data-action="click-&gt;sidebar#close" href="quick-start-guide.html">Quick start guide</a></div><ul>
<li class="toctree-l2"><div class="nav-link"><svg class="expand" data-action="click-&gt;sidebar#expand keydown-&gt;sidebar#expandKeyPressed" tabindex="0" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg><a class="reference internal" data-action="click-&gt;sidebar#close" href="quick-start-guide.html#key-structures">Key Structures</a></div><ul>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="quick-start-guide.html#next">Next</a></div></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><div class="nav-link"><svg class="expand" data-action="click-&gt;sidebar#expand keydown-&gt;sidebar#expandKeyPressed" tabindex="0" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg><a class="reference internal" data-action="click-&gt;sidebar#close" href="overview.html">Overview</a></div><ul>
<li class="toctree-l2"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="overview.html#modular-data-processing-analysis-and-visualisation"><strong>Modular Data Processing, Analysis and Visualisation</strong></a></div></li>
<li class="toctree-l2"><div class="nav-link"><svg class="expand" data-action="click-&gt;sidebar#expand keydown-&gt;sidebar#expandKeyPressed" tabindex="0" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg><a class="reference internal" data-action="click-&gt;sidebar#close" href="overview.html#extensibility"><strong>Extensibility</strong></a></div><ul>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="overview.html#next">Next</a></div></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><div class="nav-link"><svg class="expand" data-action="click-&gt;sidebar#expand keydown-&gt;sidebar#expandKeyPressed" tabindex="0" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg><a class="reference internal" data-action="click-&gt;sidebar#close" href="Tutorials-reference.html">Tutorials</a></div><ul>
<li class="toctree-l2"><div class="nav-link"><svg class="expand" data-action="click-&gt;sidebar#expand keydown-&gt;sidebar#expandKeyPressed" tabindex="0" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg><a class="reference internal" data-action="click-&gt;sidebar#close" href="Tutorials/Tutorial-1-Overview-of-Workflow.html">Tutorial 1 - Getting started with data</a></div><ul>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="Tutorials/Tutorial-1-Overview-of-Workflow.html#Creating-an-experiment">Creating an experiment</a></div></li>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="Tutorials/Tutorial-1-Overview-of-Workflow.html#Adding-trials-to-an-experiment">Adding trials to an experiment</a></div></li>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="Tutorials/Tutorial-1-Overview-of-Workflow.html#Adding-calcium-imaging-processing-to-Experiment">Adding calcium imaging processing to Experiment</a></div></li>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="Tutorials/Tutorial-1-Overview-of-Workflow.html#Storing-Suite2p-processed-data-as-an-anndata-structure">Storing Suite2p processed data as an anndata structure</a></div></li>
</ul>
</li>
<li class="toctree-l2"><div class="nav-link"><svg class="expand" data-action="click-&gt;sidebar#expand keydown-&gt;sidebar#expandKeyPressed" tabindex="0" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg><a class="reference internal" data-action="click-&gt;sidebar#close" href="Tutorials/Tutorial-2-Organization-of-data-in-package-objects.html">Tutorial 2 - Data organization inside imaging+</a></div><ul>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="Tutorials/Tutorial-2-Organization-of-data-in-package-objects.html#Importing-data-analysis-objects">Importing data analysis objects</a></div></li>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="Tutorials/Tutorial-2-Organization-of-data-in-package-objects.html#paq-data">paq data</a></div></li>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="Tutorials/Tutorial-2-Organization-of-data-in-package-objects.html#Annotated-Data">Annotated Data</a></div></li>
</ul>
</li>
<li class="toctree-l2"><div class="nav-link"><svg class="expand" data-action="click-&gt;sidebar#expand keydown-&gt;sidebar#expandKeyPressed" tabindex="0" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg><a class="reference internal" data-action="click-&gt;sidebar#close" href="Tutorials/Tutorial-3-plotting-module.html">Tutorial 3 - Making Useful Plots</a></div><ul>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="Tutorials/Tutorial-3-plotting-module.html#plot-Suite2p-ROIs-location">plot Suite2p ROIs location</a></div></li>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="Tutorials/Tutorial-3-plotting-module.html#plot-default-output-images-from-Suite2p">plot default output images from Suite2p</a></div></li>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="Tutorials/Tutorial-3-plotting-module.html#plot-individual-cell’s-flu-or-dFF-trace">plot individual cell’s flu or dFF trace</a></div></li>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="Tutorials/Tutorial-3-plotting-module.html#Raw-average-trace-of-FOV">Raw average trace of FOV</a></div></li>
</ul>
</li>
<li class="toctree-l2"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="Tutorials/Tutorial-4-nwb-conversion.html">Tutorial 4 - NWB Conversion</a></div></li>
<li class="toctree-l2"><div class="nav-link"><svg class="expand" data-action="click-&gt;sidebar#expand keydown-&gt;sidebar#expandKeyPressed" tabindex="0" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg><a class="reference internal" data-action="click-&gt;sidebar#close" href="Tutorials/Tutorial-5-suite2p-module.html">Tutorial 5 - Integrating with Suite2p (running Suite2p pipeline and storing results)</a></div><ul>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="Tutorials/Tutorial-5-suite2p-module.html#Adding-the-Suite2p-module">Adding the Suite2p module</a></div></li>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="Tutorials/Tutorial-5-suite2p-module.html#Prepare-for-Suite2p-run">Prepare for Suite2p run</a></div></li>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="Tutorials/Tutorial-5-suite2p-module.html#Run-Suite2p">Run Suite2p</a></div></li>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="Tutorials/Tutorial-5-suite2p-module.html#Explore-suite2p-results---next-steps-after-running-Suite2p">Explore suite2p results - next steps after running Suite2p</a></div></li>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="Tutorials/Tutorial-5-suite2p-module.html#Import-suite2p-results-directly">Import suite2p results directly</a></div></li>
</ul>
</li>
<li class="toctree-l2"><div class="nav-link"><svg class="expand" data-action="click-&gt;sidebar#expand keydown-&gt;sidebar#expandKeyPressed" tabindex="0" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg><a class="reference internal" data-action="click-&gt;sidebar#close" href="Tutorials/Tutorial-6-anndata-module.html">Tutorial 6 - Annotated Data Module</a></div><ul>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="Tutorials/Tutorial-6-anndata-module.html#storage-of-Flu-data">storage of Flu data</a></div></li>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="Tutorials/Tutorial-6-anndata-module.html#observations-(Suite2p-ROIs-metadata-and-associated-processing-info)">observations (Suite2p ROIs metadata and associated processing info)</a></div></li>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="Tutorials/Tutorial-6-anndata-module.html#variables-(temporal-synchronization-of-paq-channels-and-imaging)">variables (temporal synchronization of paq channels and imaging)</a></div></li>
</ul>
</li>
<li class="toctree-l2"><div class="nav-link"><svg class="expand" data-action="click-&gt;sidebar#expand keydown-&gt;sidebar#expandKeyPressed" tabindex="0" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg><a class="reference internal" data-action="click-&gt;sidebar#close" href="Tutorials/Tutorial-7-paq-module.html">Tutorial 7 - Integration with PACKIO outputs (.paq data)</a></div><ul>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="Tutorials/Tutorial-7-paq-module.html#adding-paqdata-module-to-the-trialobj">adding paqdata module to the trialobj</a></div></li>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="Tutorials/Tutorial-7-paq-module.html#Processing-paq-data">Processing paq data</a></div></li>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="Tutorials/Tutorial-7-paq-module.html#Synchronizing-.paq-data-with-imaging-frames">Synchronizing .paq data with imaging frames</a></div></li>
</ul>
</li>
<li class="toctree-l2"><div class="nav-link"><svg class="expand" data-action="click-&gt;sidebar#expand keydown-&gt;sidebar#expandKeyPressed" tabindex="0" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg><a class="reference internal" data-action="click-&gt;sidebar#close" href="Tutorials/Tutorial-8-Extending-built-in-classes.html">Tutorial 8 - Extending built in classes</a></div><ul>
<li class="toctree-l3"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="Tutorials/Tutorial-8-Extending-built-in-classes.html#Creating-a-custom-class-for-Interneuron-Gcamp-imaging-during-seizures">Creating a custom class for Interneuron Gcamp imaging during seizures</a></div></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><div class="nav-link"><svg class="expand" data-action="click-&gt;sidebar#expand keydown-&gt;sidebar#expandKeyPressed" tabindex="0" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg><a class="reference internal" data-action="click-&gt;sidebar#close" href="organization-of-modules.html">Main Modules</a></div><ul>
<li class="toctree-l2"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="organization-of-modules.html#main">Main</a></div></li>
<li class="toctree-l2"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="organization-of-modules.html#processing">Processing</a></div></li>
<li class="toctree-l2"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="organization-of-modules.html#workflow">Workflow</a></div></li>
<li class="toctree-l2"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="organization-of-modules.html#utils">Utils</a></div></li>
<li class="toctree-l2"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="organization-of-modules.html#plotting">Plotting</a></div></li>
</ul>
</li>
<li class="toctree-l1"><div class="nav-link"><svg class="expand" data-action="click-&gt;sidebar#expand keydown-&gt;sidebar#expandKeyPressed" tabindex="0" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg><a class="reference internal" data-action="click-&gt;sidebar#close" href="data-structure-details.html">Data structure details</a></div><ul>
<li class="toctree-l2"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="data-structure-details.html#anndata-object-for-storing-multi-modal-data"><em>AnnData</em> object for storing multi-modal data</a></div></li>
</ul>
</li>
<li class="toctree-l1"><div class="nav-link"><svg class="expand" data-action="click-&gt;sidebar#expand keydown-&gt;sidebar#expandKeyPressed" tabindex="0" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg><a class="reference internal" data-action="click-&gt;sidebar#close" href="making-plots.html">Making plots</a></div><ul>
<li class="toctree-l2"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="making-plots.html#module-imagingplus.plotting.plotting">Available plotting functions:</a></div></li>
</ul>
</li>
<li class="toctree-l1 current expanded"><div class="nav-link"><svg class="expand" data-action="click-&gt;sidebar#expand keydown-&gt;sidebar#expandKeyPressed" tabindex="0" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></svg><a class="current reference internal" data-action="click-&gt;sidebar#close" href="#">API Reference</a></div><ul>
<li class="toctree-l2"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="#module-imagingplus.main.core">core</a></div></li>
<li class="toctree-l2"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="#module-imagingplus.main.subcore">subcore</a></div></li>
<li class="toctree-l2"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="#module-imagingplus.plotting.plotting">plotting</a></div></li>
<li class="toctree-l2"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="#module-imagingplus.processing.anndata">processing</a></div></li>
<li class="toctree-l2"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="#workflows-alloptical">workflows (AllOptical)</a></div></li>
<li class="toctree-l2"><div class="nav-link"><a class="reference internal" data-action="click-&gt;sidebar#close" href="#module-imagingplus.utils.io">utils</a></div></li>
</ul>
</li>
</ul>
</div>
<button class="text-4xl text-gray-800 p-4 bottom-0 hover:text-brand xl:hidden focus:text-brand self-center" data-action="sidebar#close" title="Close navigation menu">
<span class="sr-only">Close navigation menu</span>
<svg aria-hidden="true" class="fill-current stroke-current h-6 w-6" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
</aside>
<main class="px-4 pt-14 xl:ml-fluid grid-area-main overflow-y-auto flex flex-col flex-1 h-full mx-0 md:mx-auto xl:mr-0"><nav aria-label="breadcrumbs" class="print:hidden mt-12 text-sm text-gray-light" role="navigation">
<a class="text-gray-light text-sm hover:text-gray-dark font-medium focus:text-gray-dark" href="index.html">imaging+ 0.2-beta documentation</a>
<span class="mr-1">/</span><span aria-current="page">API reference</span>
</nav>
<article class="flex-1" role="main">
<section id="api-reference">
<h1>API reference<a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#api-reference">¶</a></h1>
<section id="module-imagingplus.main.core">
<span id="core"></span><h2>core<a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#module-imagingplus.main.core">¶</a></h2>
<dl class="py class code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.SingleImage">
<em class="property">class<span class="w"> </span></em><code class="sig-prename descclassname">imagingplus.main.core.</code><code class="sig-name descname">SingleImage</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dataPath</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em>, <em class="sig-param"><span class="n">date</span><span class="p">:</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">imgID</span><span class="p">:</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">expGroup</span><span class="p">:</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">comment</span><span class="p">:</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">imparams</span><span class="p">:</span><span class="w"> </span><span class="n"><a class="reference internal" href="#imagingplus.main.subcore.ImagingMetadata" title="imagingplus.main.subcore.ImagingMetadata">imagingplus.main.subcore.ImagingMetadata</a></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/main/core.html#SingleImage"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.SingleImage">¶</a></dt>
<dd>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.SingleImage.dataPath">
<code class="sig-name descname">dataPath</code><em class="property"><span class="p">:</span><span class="w"> </span>str</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.SingleImage.dataPath">¶</a></dt>
<dd>
<p>path to source image</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.SingleImage.date">
<code class="sig-name descname">date</code><em class="property"><span class="p">:</span><span class="w"> </span>str</em><em class="property"><span class="w"> </span><span class="p">=</span><span class="w"> </span>None</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.SingleImage.date">¶</a></dt>
<dd>
<p>date associated with processed image</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.SingleImage.imgID">
<code class="sig-name descname">imgID</code><em class="property"><span class="p">:</span><span class="w"> </span>str</em><em class="property"><span class="w"> </span><span class="p">=</span><span class="w"> </span>None</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.SingleImage.imgID">¶</a></dt>
<dd>
<p>id of image</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.SingleImage.expGroup">
<code class="sig-name descname">expGroup</code><em class="property"><span class="p">:</span><span class="w"> </span>str</em><em class="property"><span class="w"> </span><span class="p">=</span><span class="w"> </span>None</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.SingleImage.expGroup">¶</a></dt>
<dd>
<p>experimental group of image</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.SingleImage.comment">
<code class="sig-name descname">comment</code><em class="property"><span class="p">:</span><span class="w"> </span>str</em><em class="property"><span class="w"> </span><span class="p">=</span><span class="w"> </span>None</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.SingleImage.comment">¶</a></dt>
<dd>
<p>notes regarding image</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.SingleImage.imparams">
<code class="sig-name descname">imparams</code><em class="property"><span class="p">:</span><span class="w"> </span><a class="reference internal" href="#imagingplus.main.subcore.ImagingMetadata" title="imagingplus.main.subcore.ImagingMetadata">imagingplus.main.subcore.ImagingMetadata</a></em><em class="property"><span class="w"> </span><span class="p">=</span><span class="w"> </span>None</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.SingleImage.imparams">¶</a></dt>
<dd>
<p>image collection parameters of image</p>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.SingleImage.plotImg">
<code class="sig-name descname">plotImg</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/main/core.html#SingleImage.plotImg"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.SingleImage.plotImg">¶</a></dt>
<dd>
<p>Plot single scan image data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>kwargs</strong> – refer to imagingplus.plotting.plotting.SingleFrame</p>
</dd>
</dl>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.SingleImage.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dataPath</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em>, <em class="sig-param"><span class="n">date</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">imgID</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">expGroup</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">comment</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">imparams</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span><a class="reference internal" href="#imagingplus.main.subcore.ImagingMetadata" title="imagingplus.main.subcore.ImagingMetadata">imagingplus.main.subcore.ImagingMetadata</a><span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint">None</span></span><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.SingleImage.__init__">¶</a></dt>
<dd>
</dd></dl>
</dd></dl>
<dl class="py class code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.ImagingTrial">
<em class="property">class<span class="w"> </span></em><code class="sig-prename descclassname">imagingplus.main.core.</code><code class="sig-name descname">ImagingTrial</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dataPath</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em>, <em class="sig-param"><span class="n">saveDir</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em>, <em class="sig-param"><span class="n">date</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em>, <em class="sig-param"><span class="n">trialID</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em>, <em class="sig-param"><span class="n">expID</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em>, <em class="sig-param"><span class="n">expGroup</span><span class="p">:</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">comment</span><span class="p">:</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">imparams</span><span class="p">:</span><span class="w"> </span><span class="n"><a class="reference internal" href="#imagingplus.main.subcore.ImagingMetadata" title="imagingplus.main.subcore.ImagingMetadata">imagingplus.main.subcore.ImagingMetadata</a></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">data</span><span class="p">:</span><span class="w"> </span><span class="n"><a class="reference internal" href="#imagingplus.processing.anndata.AnnotatedData" title="imagingplus.processing.anndata.AnnotatedData">imagingplus.processing.anndata.AnnotatedData</a></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">imdata</span><span class="p">:</span><span class="w"> </span><span class="n"><a class="reference internal" href="#imagingplus.main.subcore.ImagingData" title="imagingplus.main.subcore.ImagingData">imagingplus.main.subcore.ImagingData</a></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cells</span><span class="p">:</span><span class="w"> </span><span class="n"><a class="reference internal" href="#imagingplus.main.subcore.CellAnnotations" title="imagingplus.main.subcore.CellAnnotations">imagingplus.main.subcore.CellAnnotations</a></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">tmdata</span><span class="p">:</span><span class="w"> </span><span class="n"><a class="reference internal" href="#imagingplus.main.subcore.TemporalData" title="imagingplus.main.subcore.TemporalData">imagingplus.main.subcore.TemporalData</a></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">Suite2p</span><span class="p">:</span><span class="w"> </span><span class="n"><a class="reference internal" href="#imagingplus.processing.suite2p.Suite2pResultsTrial" title="imagingplus.processing.suite2p.Suite2pResultsTrial">imagingplus.processing.suite2p.Suite2pResultsTrial</a></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">Deepinterpolation</span><span class="p">:</span><span class="w"> </span><span class="n">None</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">optical_channel_name</span><span class="p">:</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">'Imaging Channel'</span></em>, <em class="sig-param"><span class="n">imaging_plane_name</span><span class="p">:</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">'Plane 0'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/main/core.html#ImagingTrial"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.ImagingTrial">¶</a></dt>
<dd>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.ImagingTrial.dataPath">
<code class="sig-name descname">dataPath</code><em class="property"><span class="p">:</span><span class="w"> </span>str</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.ImagingTrial.dataPath">¶</a></dt>
<dd>
<p>path to tiff file containing data to create Imaging Trial</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.ImagingTrial.saveDir">
<code class="sig-name descname">saveDir</code><em class="property"><span class="p">:</span><span class="w"> </span>str</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.ImagingTrial.saveDir">¶</a></dt>
<dd>
<p>main dir where the experiment object and the trial objects will be saved to</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.ImagingTrial.date">
<code class="sig-name descname">date</code><em class="property"><span class="p">:</span><span class="w"> </span>str</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.ImagingTrial.date">¶</a></dt>
<dd>
<p>date to assign to Imaging Trial</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.ImagingTrial.trialID">
<code class="sig-name descname">trialID</code><em class="property"><span class="p">:</span><span class="w"> </span>str</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.ImagingTrial.trialID">¶</a></dt>
<dd>
<p>trial ID of Imaging Trial</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.ImagingTrial.expID">
<code class="sig-name descname">expID</code><em class="property"><span class="p">:</span><span class="w"> </span>str</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.ImagingTrial.expID">¶</a></dt>
<dd>
<p>experiment ID associated with current Imaging Trial</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.ImagingTrial.expGroup">
<code class="sig-name descname">expGroup</code><em class="property"><span class="p">:</span><span class="w"> </span>str</em><em class="property"><span class="w"> </span><span class="p">=</span><span class="w"> </span>''</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.ImagingTrial.expGroup">¶</a></dt>
<dd>
<p>group assignment within experiment</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.ImagingTrial.comment">
<code class="sig-name descname">comment</code><em class="property"><span class="p">:</span><span class="w"> </span>str</em><em class="property"><span class="w"> </span><span class="p">=</span><span class="w"> </span>''</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.ImagingTrial.comment">¶</a></dt>
<dd>
<p>notes related to Imaging Trial</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.ImagingTrial.imparams">
<code class="sig-name descname">imparams</code><em class="property"><span class="p">:</span><span class="w"> </span><a class="reference internal" href="#imagingplus.main.subcore.ImagingMetadata" title="imagingplus.main.subcore.ImagingMetadata">imagingplus.main.subcore.ImagingMetadata</a></em><em class="property"><span class="w"> </span><span class="p">=</span><span class="w"> </span>None</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.ImagingTrial.imparams">¶</a></dt>
<dd>
<p>ImagingMetadata related to current Imaging Trial</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.ImagingTrial.data">
<code class="sig-name descname">data</code><em class="property"><span class="p">:</span><span class="w"> </span><a class="reference internal" href="#imagingplus.processing.anndata.AnnotatedData" title="imagingplus.processing.anndata.AnnotatedData">imagingplus.processing.anndata.AnnotatedData</a></em><em class="property"><span class="w"> </span><span class="p">=</span><span class="w"> </span>None</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.ImagingTrial.data">¶</a></dt>
<dd>
<p>anndata structure for current Imaging Trial</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.ImagingTrial.imdata">
<code class="sig-name descname">imdata</code><em class="property"><span class="p">:</span><span class="w"> </span><a class="reference internal" href="#imagingplus.main.subcore.ImagingData" title="imagingplus.main.subcore.ImagingData">imagingplus.main.subcore.ImagingData</a></em><em class="property"><span class="w"> </span><span class="p">=</span><span class="w"> </span>None</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.ImagingTrial.imdata">¶</a></dt>
<dd>
<p>Imaging data for current Imaging Trial</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.ImagingTrial.cells">
<code class="sig-name descname">cells</code><em class="property"><span class="p">:</span><span class="w"> </span><a class="reference internal" href="#imagingplus.main.subcore.CellAnnotations" title="imagingplus.main.subcore.CellAnnotations">imagingplus.main.subcore.CellAnnotations</a></em><em class="property"><span class="w"> </span><span class="p">=</span><span class="w"> </span>None</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.ImagingTrial.cells">¶</a></dt>
<dd>
<p>Cells Annotations data for current Imaging Trial</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.ImagingTrial.tmdata">
<code class="sig-name descname">tmdata</code><em class="property"><span class="p">:</span><span class="w"> </span><a class="reference internal" href="#imagingplus.main.subcore.TemporalData" title="imagingplus.main.subcore.TemporalData">imagingplus.main.subcore.TemporalData</a></em><em class="property"><span class="w"> </span><span class="p">=</span><span class="w"> </span>None</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.ImagingTrial.tmdata">¶</a></dt>
<dd>
<p>Temporal Data for current Imaging Trial</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.ImagingTrial.Suite2p">
<code class="sig-name descname">Suite2p</code><em class="property"><span class="p">:</span><span class="w"> </span><a class="reference internal" href="#imagingplus.processing.suite2p.Suite2pResultsTrial" title="imagingplus.processing.suite2p.Suite2pResultsTrial">imagingplus.processing.suite2p.Suite2pResultsTrial</a></em><em class="property"><span class="w"> </span><span class="p">=</span><span class="w"> </span>None</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.ImagingTrial.Suite2p">¶</a></dt>
<dd>
<p>Suite2p Results for current Imaging Trial</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.ImagingTrial.Deepinterpolation">
<code class="sig-name descname">Deepinterpolation</code><em class="property"><span class="p">:</span><span class="w"> </span>None</em><em class="property"><span class="w"> </span><span class="p">=</span><span class="w"> </span>None</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.ImagingTrial.Deepinterpolation">¶</a></dt>
<dd>
<p>Deepinterpolation (denoising) for current Imaging Trial</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.ImagingTrial.optical_channel_name">
<code class="sig-name descname">optical_channel_name</code><em class="property"><span class="p">:</span><span class="w"> </span>str</em><em class="property"><span class="w"> </span><span class="p">=</span><span class="w"> </span>'Imaging Channel'</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.ImagingTrial.optical_channel_name">¶</a></dt>
<dd>
<p>a name of the optical channel collected for current trial (default = Imaging Channel)</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.ImagingTrial.imaging_plane_name">
<code class="sig-name descname">imaging_plane_name</code><em class="property"><span class="p">:</span><span class="w"> </span>str</em><em class="property"><span class="w"> </span><span class="p">=</span><span class="w"> </span>'Plane 0'</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.ImagingTrial.imaging_plane_name">¶</a></dt>
<dd>
<p>a name of the imaging plane collected for current trial (default = Plane 0)</p>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.ImagingTrial.newImagingTrialfromExperiment">
<em class="property">classmethod<span class="w"> </span></em><code class="sig-name descname">newImagingTrialfromExperiment</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">experiment</span></em>, <em class="sig-param"><span class="n">trialID</span></em>, <em class="sig-param"><span class="n">dataPath</span></em>, <em class="sig-param"><span class="n">date</span></em>, <em class="sig-param"><span class="n">comment</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/main/core.html#ImagingTrial.newImagingTrialfromExperiment"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.ImagingTrial.newImagingTrialfromExperiment">¶</a></dt>
<dd>
<p>Creates a new ImagingTrial under an Experiment.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>experiment</strong> – Experiment object</p></li>
<li><p><strong>trialID</strong> – ID of new Imaging Trial to be added</p></li>
<li><p><strong>dataPath</strong> – path to imaging data tiff file of new Imaging Trial</p></li>
<li><p><strong>date</strong> – associated date of new Imaging Trial</p></li>
<li><p><strong>comment</strong> – associated notes for new Imaging Trial</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ImagingTrial instance</p>
</dd>
</dl>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.ImagingTrial.frameNum">
<code class="sig-name descname">frameNum</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">time</span><span class="p">:</span><span class="w"> </span><span class="n">float</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint">int</span></span><a class="reference internal" href="_modules/imagingplus/main/core.html#ImagingTrial.frameNum"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.ImagingTrial.frameNum">¶</a></dt>
<dd>
<p>Calculate and return frame number of time point, uses the temporally captured frame timing signals to</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>time</strong> – Time point to retrieve frame number from imaging series.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Frame number at input time</p>
</dd>
</dl>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.ImagingTrial.timePoint">
<code class="sig-name descname">timePoint</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">frame</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/main/core.html#ImagingTrial.timePoint"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.ImagingTrial.timePoint">¶</a></dt>
<dd>
<p>Calculate and return timepoint of input frame, uses the temporally captured frame timing signals.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>frame</strong> – Input frame to retrieve timepoint from imaging series time signals</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Timepoint</p>
</dd>
</dl>
</dd></dl>
<dl class="py property code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.ImagingTrial.data_path">
<em class="property">property<span class="w"> </span></em><code class="sig-name descname">data_path</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.ImagingTrial.data_path">¶</a></dt>
<dd>
<p>data path of current trial object</p>
</dd></dl>
<dl class="py property code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.ImagingTrial.t_series_name">
<em class="property">property<span class="w"> </span></em><code class="sig-name descname">t_series_name</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.ImagingTrial.t_series_name">¶</a></dt>
<dd>
<p>Return convience identification label of trial ID and exp ID.
:return:</p>
</dd></dl>
<dl class="py property code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.ImagingTrial.data_path_dir">
<em class="property">property<span class="w"> </span></em><code class="sig-name descname">data_path_dir</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.ImagingTrial.data_path_dir">¶</a></dt>
<dd>
<p>Parent directory of data path</p>
</dd></dl>
<dl class="py property code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.ImagingTrial.pkl_path">
<em class="property">property<span class="w"> </span></em><code class="sig-name descname">pkl_path</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.ImagingTrial.pkl_path">¶</a></dt>
<dd>
<p>path in Analysis folder to save pkl object of current Imaging Trial</p>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.ImagingTrial.save_pkl">
<code class="sig-name descname">save_pkl</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pkl_path</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/main/core.html#ImagingTrial.save_pkl"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.ImagingTrial.save_pkl">¶</a></dt>
<dd>
<p>Alias method for saving current object to pickle file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pkl_path</strong> – (optional) provide path to save object to pickle file.</p>
</dd>
</dl>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.ImagingTrial.save">
<code class="sig-name descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/main/core.html#ImagingTrial.save"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.ImagingTrial.save">¶</a></dt>
<dd>
<p>Alias method for saving current object as pickle file.</p>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.ImagingTrial.plotSingleImageFrame">
<code class="sig-name descname">plotSingleImageFrame</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">frame_num</span><span class="p">:</span><span class="w"> </span><span class="n">int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">title</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/main/core.html#ImagingTrial.plotSingleImageFrame"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.ImagingTrial.plotSingleImageFrame">¶</a></dt>
<dd>
<p>plots an image of a single specified tiff frame after reading using tifffile.
:param frame_num: frame # from 2p imaging tiff to show (default is 0 - i.e. the first frame)
:param title: (optional) give a string to use as title
:return: matplotlib imshow plot</p>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.ImagingTrial.addImagingMetadata">
<code class="sig-name descname">addImagingMetadata</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">imaging_metadata</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span><a class="reference internal" href="#imagingplus.main.subcore.ImagingMetadata" title="imagingplus.main.subcore.ImagingMetadata">imagingplus.main.subcore.ImagingMetadata</a><span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">Bruker</span><span class="p">:</span><span class="w"> </span><span class="n">bool</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/main/core.html#ImagingTrial.addImagingMetadata"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.ImagingTrial.addImagingMetadata">¶</a></dt>
<dd>
<p>Add the imaging metadata submodule to the current ImagingTrial.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Bruker</strong> – if True, then set ImagingMetadata as PrairieViewMetadata</p></li>
<li><p><strong>imaging_metadata</strong> – input ImagingMetadata to add to current ImagingTrial</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py property code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.ImagingTrial.n_frames">
<em class="property">property<span class="w"> </span></em><code class="sig-name descname">n_frames</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.ImagingTrial.n_frames">¶</a></dt>
<dd>
<p>number of imaging frames from tiff cellsdata.
:return:</p>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.ImagingTrial.importTrialTiff">
<code class="sig-name descname">importTrialTiff</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint">numpy.ndarray</span></span><a class="reference internal" href="_modules/imagingplus/main/core.html#ImagingTrial.importTrialTiff"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.ImagingTrial.importTrialTiff">¶</a></dt>
<dd>
<p>Import current trial’s imaging tiff in full.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>imaging tiff as numpy array</p>
</dd>
</dl>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.ImagingTrial.meanRawFluTrace">
<code class="sig-name descname">meanRawFluTrace</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">im_stack</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>numpy.ndarray<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/main/core.html#ImagingTrial.meanRawFluTrace"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.ImagingTrial.meanRawFluTrace">¶</a></dt>
<dd>
<p>Collects the raw mean of FOV fluorescence trace across the t-series.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>mean fluorescence trace</p>
</dd>
</dl>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.ImagingTrial.makeDownsampledTiff">
<code class="sig-name descname">makeDownsampledTiff</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/main/core.html#ImagingTrial.makeDownsampledTiff"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.ImagingTrial.makeDownsampledTiff">¶</a></dt>
<dd>
<p>Import current trial tiff, create downsampled tiff and save in default analysis directory.</p>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.ImagingTrial.create_anndata">
<code class="sig-name descname">create_anndata</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">imdata_type</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em>, <em class="sig-param"><span class="n">imdata</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span><a class="reference internal" href="#imagingplus.main.subcore.ImagingData" title="imagingplus.main.subcore.ImagingData">imagingplus.main.subcore.ImagingData</a><span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cells</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span><a class="reference internal" href="#imagingplus.main.subcore.CellAnnotations" title="imagingplus.main.subcore.CellAnnotations">imagingplus.main.subcore.CellAnnotations</a><span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">tmdata</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span><a class="reference internal" href="#imagingplus.main.subcore.TemporalData" title="imagingplus.main.subcore.TemporalData">imagingplus.main.subcore.TemporalData</a><span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/main/core.html#ImagingTrial.create_anndata"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.ImagingTrial.create_anndata">¶</a></dt>
<dd>
<p>Creates annotated cellsdata (see anndata library for more information on AnnotatedData) object based around the Ca2+ matrix of the imaging trial.</p>
<p>Note: the tmdata is used as the source of truth for imaging frames time signals. If there is a mismatch, then tmdata timestamps for extraneous imaging frames will not be included in adata table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>imdata_type</strong> – label to describe primary dataset in anndata structure.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.ImagingTrial.collectSignalFromCoords">
<em class="property">static<span class="w"> </span></em><code class="sig-name descname">collectSignalFromCoords</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tiff_paths</span><span class="p">:</span><span class="w"> </span><span class="n">Union<span class="p">[</span>tuple<span class="p">,</span><span class="w"> </span>list<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">target_coords_masks</span><span class="p">:</span><span class="w"> </span><span class="n">numpy.ndarray</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/main/core.html#ImagingTrial.collectSignalFromCoords"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.ImagingTrial.collectSignalFromCoords">¶</a></dt>
<dd>
<p>Collect and return mean signal from target mask areas for each cell from provided tiffs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tiff_paths</strong> – tiff paths to load movies to use for collecting signals</p></li>
<li><p><strong>target_coords_masks</strong> – array of masks per cell to use for collecting signals from loaded tiffs</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.ImagingTrial.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dataPath</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em>, <em class="sig-param"><span class="n">saveDir</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em>, <em class="sig-param"><span class="n">date</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em>, <em class="sig-param"><span class="n">trialID</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em>, <em class="sig-param"><span class="n">expID</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em>, <em class="sig-param"><span class="n">expGroup</span><span class="p">:</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">comment</span><span class="p">:</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">imparams</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span><a class="reference internal" href="#imagingplus.main.subcore.ImagingMetadata" title="imagingplus.main.subcore.ImagingMetadata">imagingplus.main.subcore.ImagingMetadata</a><span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">data</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span><a class="reference internal" href="#imagingplus.processing.anndata.AnnotatedData" title="imagingplus.processing.anndata.AnnotatedData">imagingplus.processing.anndata.AnnotatedData</a><span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">imdata</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span><a class="reference internal" href="#imagingplus.main.subcore.ImagingData" title="imagingplus.main.subcore.ImagingData">imagingplus.main.subcore.ImagingData</a><span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cells</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span><a class="reference internal" href="#imagingplus.main.subcore.CellAnnotations" title="imagingplus.main.subcore.CellAnnotations">imagingplus.main.subcore.CellAnnotations</a><span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">tmdata</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span><a class="reference internal" href="#imagingplus.main.subcore.TemporalData" title="imagingplus.main.subcore.TemporalData">imagingplus.main.subcore.TemporalData</a><span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">Suite2p</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span><a class="reference internal" href="#imagingplus.processing.suite2p.Suite2pResultsTrial" title="imagingplus.processing.suite2p.Suite2pResultsTrial">imagingplus.processing.suite2p.Suite2pResultsTrial</a><span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">Deepinterpolation</span><span class="p">:</span><span class="w"> </span><span class="n">None</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">optical_channel_name</span><span class="p">:</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">'Imaging Channel'</span></em>, <em class="sig-param"><span class="n">imaging_plane_name</span><span class="p">:</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">'Plane 0'</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint">None</span></span><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.ImagingTrial.__init__">¶</a></dt>
<dd>
</dd></dl>
</dd></dl>
<dl class="py class code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.Experiment">
<em class="property">class<span class="w"> </span></em><code class="sig-prename descclassname">imagingplus.main.core.</code><code class="sig-name descname">Experiment</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">expID</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em>, <em class="sig-param"><span class="n">dataPath</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em>, <em class="sig-param"><span class="n">saveDir</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em>, <em class="sig-param"><span class="n">comment</span><span class="p">:</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">singleImages</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>Dict<span class="p">[</span>str<span class="p">,</span><span class="w"> </span><a class="reference internal" href="#imagingplus.main.core.SingleImage" title="imagingplus.main.core.SingleImage">imagingplus.main.core.SingleImage</a><span class="p">]</span><span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/main/core.html#Experiment"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.Experiment">¶</a></dt>
<dd>
<p>Overall experiment. It can collate all imaging trials that are part of a single field-of-view (FOV) of imaging</p>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.Experiment.expID">
<code class="sig-name descname">expID</code><em class="property"><span class="p">:</span><span class="w"> </span>str</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.Experiment.expID">¶</a></dt>
<dd>
<p>given identification name for experiment</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.Experiment.dataPath">
<code class="sig-name descname">dataPath</code><em class="property"><span class="p">:</span><span class="w"> </span>str</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.Experiment.dataPath">¶</a></dt>
<dd>
<p>main dir where the imaging data is contained</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.Experiment.saveDir">
<code class="sig-name descname">saveDir</code><em class="property"><span class="p">:</span><span class="w"> </span>str</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.Experiment.saveDir">¶</a></dt>
<dd>
<p>main dir where the experiment object and the trial objects will be saved to</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.Experiment.comment">
<code class="sig-name descname">comment</code><em class="property"><span class="p">:</span><span class="w"> </span>str</em><em class="property"><span class="w"> </span><span class="p">=</span><span class="w"> </span>''</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.Experiment.comment">¶</a></dt>
<dd>
<p>notes related to experiment</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.Experiment.singleImages">
<code class="sig-name descname">singleImages</code><em class="property"><span class="p">:</span><span class="w"> </span>Dict<span class="p">[</span>str<span class="p">,</span><span class="w"> </span><a class="reference internal" href="#imagingplus.main.core.SingleImage" title="imagingplus.main.core.SingleImage">imagingplus.main.core.SingleImage</a><span class="p">]</span></em><em class="property"><span class="w"> </span><span class="p">=</span><span class="w"> </span>None</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.Experiment.singleImages">¶</a></dt>
<dd>
<p>contains single image frames from each experiment</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.Experiment.experimenter">
<code class="sig-name descname">experimenter</code><em class="property"><span class="w"> </span><span class="p">=</span><span class="w"> </span>''</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.Experiment.experimenter">¶</a></dt>
<dd>
<p>experimenter performing pertinent data collection or data analysis</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.Experiment.lab">
<code class="sig-name descname">lab</code><em class="property"><span class="w"> </span><span class="p">=</span><span class="w"> </span>''</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.Experiment.lab">¶</a></dt>
<dd>
<p>research group with with experiments were performed</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.Experiment.institution">
<code class="sig-name descname">institution</code><em class="property"><span class="w"> </span><span class="p">=</span><span class="w"> </span>''</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.Experiment.institution">¶</a></dt>
<dd>
<p>insititution where experiments were performed</p>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.Experiment.get_trial_info">
<code class="sig-name descname">get_trial_info</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">trialID</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/main/core.html#Experiment.get_trial_info"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.Experiment.get_trial_info">¶</a></dt>
<dd>
<p>Retrieve meta-information stored about trial (trialID) in the current experiment.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>trialID</strong> – trial to retrieve meta-information</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.Experiment.add_imaging_trial">
<code class="sig-name descname">add_imaging_trial</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">trialID</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">trialobj</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span><a class="reference internal" href="#imagingplus.main.core.ImagingTrial" title="imagingplus.main.core.ImagingTrial">imagingplus.main.core.ImagingTrial</a><span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/main/core.html#Experiment.add_imaging_trial"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.Experiment.add_imaging_trial">¶</a></dt>
<dd>
<p>Add trial to current experiment by adding trial meta-information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>trialID</strong> – name ID of trialobj</p></li>
<li><p><strong>trialobj</strong> – ImagingTrial object.</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.Experiment.add_single">
<code class="sig-name descname">add_single</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">singleimg</span><span class="p">:</span><span class="w"> </span><span class="n"><a class="reference internal" href="#imagingplus.main.core.SingleImage" title="imagingplus.main.core.SingleImage">imagingplus.main.core.SingleImage</a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/main/core.html#Experiment.add_single"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.Experiment.add_single">¶</a></dt>
<dd>
<p>Add SingleImage to current Experiment (e.g. for adding a high quality single scan of current Experiment’s FOV.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>singleimg</strong> – SingleImage object</p>
</dd>
</dl>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.Experiment.combine_trials">
<code class="sig-name descname">combine_trials</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/main/core.html#Experiment.combine_trials"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.Experiment.combine_trials">¶</a></dt>
<dd>
<p>todo: Combine anndata table of trials with same cells.</p>
</dd></dl>
<dl class="py property code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.Experiment.trialIDs">
<em class="property">property<span class="w"> </span></em><code class="sig-name descname">trialIDs</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.Experiment.trialIDs">¶</a></dt>
<dd>
<p>Return list of trial IDs contained in Experiment.</p>
</dd></dl>
<dl class="py property code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.Experiment.pkl_path">
<em class="property">property<span class="w"> </span></em><code class="sig-name descname">pkl_path</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.Experiment.pkl_path">¶</a></dt>
<dd>
<p>path in Analysis folder to save pkl object
:return:</p>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.Experiment.save_pkl">
<code class="sig-name descname">save_pkl</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pkl_path</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/main/core.html#Experiment.save_pkl"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.Experiment.save_pkl">¶</a></dt>
<dd>
<p>saves imagingplus Experiment object using Pickle library (.pkl file extension).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pkl_path</strong> – full .pkl s2pResultsPath for saving the Experiment object.</p>
</dd>
</dl>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.Experiment.save">
<code class="sig-name descname">save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/main/core.html#Experiment.save"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.Experiment.save">¶</a></dt>
<dd>
<p>Shortcut for saving current Experiment to its designated pkl path.</p>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.Experiment.load_trial">
<code class="sig-name descname">load_trial</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">trialID</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/main/core.html#Experiment.load_trial"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.Experiment.load_trial">¶</a></dt>
<dd>
<p>Import individual trial objects from Experiment instance using the trial id for a given trial</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>trialID</strong> – ID of trial to import.</p>
</dd>
</dl>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.Experiment.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">expID</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em>, <em class="sig-param"><span class="n">dataPath</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em>, <em class="sig-param"><span class="n">saveDir</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em>, <em class="sig-param"><span class="n">comment</span><span class="p">:</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">singleImages</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>Dict<span class="p">[</span>str<span class="p">,</span><span class="w"> </span><a class="reference internal" href="#imagingplus.main.core.SingleImage" title="imagingplus.main.core.SingleImage">imagingplus.main.core.SingleImage</a><span class="p">]</span><span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint">None</span></span><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.Experiment.__init__">¶</a></dt>
<dd>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.Experiment.add_suite2p">
<code class="sig-name descname">add_suite2p</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s2p_trials</span><span class="p">:</span><span class="w"> </span><span class="n">Union<span class="p">[</span>list<span class="p">,</span><span class="w"> </span>str<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">'all'</span></em>, <em class="sig-param"><span class="n">s2pResultsPath</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/main/core.html#Experiment.add_suite2p"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.Experiment.add_suite2p">¶</a></dt>
<dd>
<p>todo: try moving function to suite2p file.
Wrapper for adding suite2p results to Experiment. Can only be run after adding trials to Experiment.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s2p_trials</strong> – list of trials to use for Suite2p processing/analysis pipeline, default = ‘all’ to use all trials of Experiment</p></li>
<li><p><strong>s2pResultsPath</strong> – optional, if suite2p already run then here provide path to plane0 folder of existing suite2p results</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py property code-definition">
<dt class="sig sig-object py" id="imagingplus.main.core.Experiment.suite2p_save_path">
<em class="property">property<span class="w"> </span></em><code class="sig-name descname">suite2p_save_path</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.core.Experiment.suite2p_save_path">¶</a></dt>
<dd>
<p>Save path for suite2p outputs/results.</p>
</dd></dl>
</dd></dl>
</section>
<section id="module-imagingplus.main.subcore">
<span id="subcore"></span><h2>subcore<a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#module-imagingplus.main.subcore">¶</a></h2>
<dl class="py class code-definition">
<dt class="sig sig-object py" id="imagingplus.main.subcore.TemporalData">
<em class="property">class<span class="w"> </span></em><code class="sig-prename descclassname">imagingplus.main.subcore.</code><code class="sig-name descname">TemporalData</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file_path</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em>, <em class="sig-param"><span class="n">sampling_rate</span><span class="p">:</span><span class="w"> </span><span class="n">float</span></em>, <em class="sig-param"><span class="n">channels</span><span class="p">:</span><span class="w"> </span><span class="n">List<span class="p">[</span>str<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">data</span><span class="p">:</span><span class="w"> </span><span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">units</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>List<span class="p">[</span>str<span class="p">]</span><span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">frame_times</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>list<span class="p">,</span><span class="w"> </span>numpy.ndarray<span class="p">]</span><span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">sparse_data</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>pandas.core.frame.DataFrame<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">crop_offset_time</span><span class="p">:</span><span class="w"> </span><span class="n">float</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">0.0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/main/subcore.html#TemporalData"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.subcore.TemporalData">¶</a></dt>
<dd>
<p>1-D time series datasets corresponding with an imaging trial. Accomodates all 1-D series that are temporally synchronized to each other.</p>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.subcore.TemporalData.file_path">
<code class="sig-name descname">file_path</code><em class="property"><span class="p">:</span><span class="w"> </span>str</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.subcore.TemporalData.file_path">¶</a></dt>
<dd>
<p>path to cellsdata file</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.subcore.TemporalData.sampling_rate">
<code class="sig-name descname">sampling_rate</code><em class="property"><span class="p">:</span><span class="w"> </span>float</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.subcore.TemporalData.sampling_rate">¶</a></dt>
<dd>
<p>rate of cellsdata collection (Hz)</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.subcore.TemporalData.channels">
<code class="sig-name descname">channels</code><em class="property"><span class="p">:</span><span class="w"> </span>List<span class="p">[</span>str<span class="p">]</span></em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.subcore.TemporalData.channels">¶</a></dt>
<dd>
<p>list of cellsdata channel names.</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.subcore.TemporalData.data">
<code class="sig-name descname">data</code><em class="property"><span class="p">:</span><span class="w"> </span>pandas.core.frame.DataFrame</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.subcore.TemporalData.data">¶</a></dt>
<dd>
<p>N columns x Time array of N x 1D cellsdata channels collected over Time at the same sampling rate</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.subcore.TemporalData.units">
<code class="sig-name descname">units</code><em class="property"><span class="p">:</span><span class="w"> </span>List<span class="p">[</span>str<span class="p">]</span></em><em class="property"><span class="w"> </span><span class="p">=</span><span class="w"> </span>None</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.subcore.TemporalData.units">¶</a></dt>
<dd>
<p>list of units corresponding to channels.</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.subcore.TemporalData.frame_times">
<code class="sig-name descname">frame_times</code><em class="property"><span class="p">:</span><span class="w"> </span>Union<span class="p">[</span>list<span class="p">,</span><span class="w"> </span>numpy.ndarray<span class="p">]</span></em><em class="property"><span class="w"> </span><span class="p">=</span><span class="w"> </span>None</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.subcore.TemporalData.frame_times">¶</a></dt>
<dd>
<p>timestamps representing imaging frame times. must be of same time duration as imaging dataset.</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.subcore.TemporalData.sparse_data">
<code class="sig-name descname">sparse_data</code><em class="property"><span class="p">:</span><span class="w"> </span>pandas.core.frame.DataFrame</em><em class="property"><span class="w"> </span><span class="p">=</span><span class="w"> </span>None</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.subcore.TemporalData.sparse_data">¶</a></dt>
<dd>
<p>dataframe of timeseries channels containing cellsdata keyed at imaging frames for each timeseries channel</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.subcore.TemporalData.crop_offset_time">
<code class="sig-name descname">crop_offset_time</code><em class="property"><span class="p">:</span><span class="w"> </span>float</em><em class="property"><span class="w"> </span><span class="p">=</span><span class="w"> </span>0.0</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.subcore.TemporalData.crop_offset_time">¶</a></dt>
<dd>
<p>length of time (secs) of the offset after cropping temporal data</p>
</dd></dl>
<dl class="py property code-definition">
<dt class="sig sig-object py" id="imagingplus.main.subcore.TemporalData.n_frames">
<em class="property">property<span class="w"> </span></em><code class="sig-name descname">n_frames</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.subcore.TemporalData.n_frames">¶</a></dt>
<dd>
<p>number of timed imaging frames</p>
</dd></dl>
<dl class="py property code-definition">
<dt class="sig sig-object py" id="imagingplus.main.subcore.TemporalData.n_timepoints">
<em class="property">property<span class="w"> </span></em><code class="sig-name descname">n_timepoints</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.subcore.TemporalData.n_timepoints">¶</a></dt>
<dd>
<p>number of cellsdata collection timepoints</p>
</dd></dl>
<dl class="py property code-definition">
<dt class="sig sig-object py" id="imagingplus.main.subcore.TemporalData.n_channels">
<em class="property">property<span class="w"> </span></em><code class="sig-name descname">n_channels</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.subcore.TemporalData.n_channels">¶</a></dt>
<dd>
<p>number of cellsdata collection channels</p>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.main.subcore.TemporalData.get_sparse_data">
<code class="sig-name descname">get_sparse_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">frame_times</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>list<span class="p">,</span><span class="w"> </span>numpy.ndarray<span class="p">]</span><span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint">pandas.core.frame.DataFrame</span></span><a class="reference internal" href="_modules/imagingplus/main/subcore.html#TemporalData.get_sparse_data"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.subcore.TemporalData.get_sparse_data">¶</a></dt>
<dd>
<p>Returns dictionary of numpy array keyed on channels from paq_data timed to 2photon imaging frame_times.
In effect this works as a downsampling algorithm.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>frame_times</strong> – imaging frame timestamps to use for collecting sparse temporal data</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dataframe of sparse temporal data across all temporal data channels collected</p>
</dd>
</dl>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.main.subcore.TemporalData.cropData">
<code class="sig-name descname">cropData</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">begin</span><span class="p">:</span><span class="w"> </span><span class="n">int</span></em>, <em class="sig-param"><span class="n">end</span><span class="p">:</span><span class="w"> </span><span class="n">int</span></em>, <em class="sig-param"><span class="n">channels</span><span class="p">:</span><span class="w"> </span><span class="n">Union<span class="p">[</span>str<span class="p">,</span><span class="w"> </span>List<span class="p">[</span>str<span class="p">]</span><span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">'all'</span></em>, <em class="sig-param"><span class="n">replace</span><span class="p">:</span><span class="w"> </span><span class="n">bool</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/main/subcore.html#TemporalData.cropData"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.subcore.TemporalData.cropData">¶</a></dt>
<dd>
<p>Crops saved temporal cellsdata channels to the timestamps of begin and end.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>channels</strong> – channels to crop cellsdata, default is ‘all’ (all channels in dataset).</p></li>
<li><p><strong>begin</strong> – timestamp to begin cropping at</p></li>
<li><p><strong>end</strong> – timestamp to end cropping at</p></li>
<li><p><strong>replace</strong> – if True, then replace .cellsdata attribute with newly cropped cellsdata. if False, return the cropped dataframe.</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.main.subcore.TemporalData.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file_path</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em>, <em class="sig-param"><span class="n">sampling_rate</span><span class="p">:</span><span class="w"> </span><span class="n">float</span></em>, <em class="sig-param"><span class="n">channels</span><span class="p">:</span><span class="w"> </span><span class="n">List<span class="p">[</span>str<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">data</span><span class="p">:</span><span class="w"> </span><span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">units</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>List<span class="p">[</span>str<span class="p">]</span><span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">frame_times</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>list<span class="p">,</span><span class="w"> </span>numpy.ndarray<span class="p">]</span><span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">sparse_data</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>pandas.core.frame.DataFrame<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">crop_offset_time</span><span class="p">:</span><span class="w"> </span><span class="n">float</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">0.0</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint">None</span></span><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.subcore.TemporalData.__init__">¶</a></dt>
<dd>
</dd></dl>
</dd></dl>
<dl class="py class code-definition">
<dt class="sig sig-object py" id="imagingplus.main.subcore.CellAnnotations">
<em class="property">class<span class="w"> </span></em><code class="sig-prename descclassname">imagingplus.main.subcore.</code><code class="sig-name descname">CellAnnotations</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cells_array</span><span class="p">:</span><span class="w"> </span><span class="n">Union<span class="p">[</span>List<span class="p">[</span>int<span class="p">]</span><span class="p">,</span><span class="w"> </span>pandas.core.indexes.base.Index<span class="p">,</span><span class="w"> </span>pandas.core.indexes.range.RangeIndex<span class="p">,</span><span class="w"> </span>numpy.ndarray<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">annotations</span><span class="p">:</span><span class="w"> </span><span class="n">Union<span class="p">[</span>List<span class="p">[</span>str<span class="p">]</span><span class="p">,</span><span class="w"> </span>pandas.core.indexes.base.Index<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">cellsdata</span><span class="p">:</span><span class="w"> </span><span class="n">Union<span class="p">[</span>pandas.core.frame.DataFrame<span class="p">,</span><span class="w"> </span>pandas.core.series.Series<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">multidim_data</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>Dict<span class="p">[</span>str<span class="p">,</span><span class="w"> </span>List<span class="p">[</span>Any<span class="p">]</span><span class="p">]</span><span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/main/subcore.html#CellAnnotations"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.subcore.CellAnnotations">¶</a></dt>
<dd>
<p>Annotations of cells in an imaging trial.</p>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.main.subcore.CellAnnotations.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cells_array</span><span class="p">:</span><span class="w"> </span><span class="n">Union<span class="p">[</span>List<span class="p">[</span>int<span class="p">]</span><span class="p">,</span><span class="w"> </span>pandas.core.indexes.base.Index<span class="p">,</span><span class="w"> </span>pandas.core.indexes.range.RangeIndex<span class="p">,</span><span class="w"> </span>numpy.ndarray<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">annotations</span><span class="p">:</span><span class="w"> </span><span class="n">Union<span class="p">[</span>List<span class="p">[</span>str<span class="p">]</span><span class="p">,</span><span class="w"> </span>pandas.core.indexes.base.Index<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">cellsdata</span><span class="p">:</span><span class="w"> </span><span class="n">Union<span class="p">[</span>pandas.core.frame.DataFrame<span class="p">,</span><span class="w"> </span>pandas.core.series.Series<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">multidim_data</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>Dict<span class="p">[</span>str<span class="p">,</span><span class="w"> </span>List<span class="p">[</span>Any<span class="p">]</span><span class="p">]</span><span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/main/subcore.html#CellAnnotations.__init__"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.subcore.CellAnnotations.__init__">¶</a></dt>
<dd>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cells_array</strong> – ID of all cells in imaging dataset. must be of same cell length as imaging dataset.</p></li>
<li><p><strong>annotations</strong> – list of names of annotations</p></li>
<li><p><strong>cellsdata</strong> – M x Cells array of an arbritrary number (M) 1D annotations channels collected for all Cells. must contain same number of cells as cells_array.</p></li>
<li><p><strong>multidim_data</strong> – annotations with cellsdata of unconstrained dimensions for all cells. Structured as dictionary with keys corresponding to annotation name and a list of the length of cells containing cellsdata in any format.</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py property code-definition">
<dt class="sig sig-object py" id="imagingplus.main.subcore.CellAnnotations.n_cells">
<em class="property">property<span class="w"> </span></em><code class="sig-name descname">n_cells</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.subcore.CellAnnotations.n_cells">¶</a></dt>
<dd>
<p>number of cells</p>
</dd></dl>
<dl class="py property code-definition">
<dt class="sig sig-object py" id="imagingplus.main.subcore.CellAnnotations.n_annotations">
<em class="property">property<span class="w"> </span></em><code class="sig-name descname">n_annotations</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.subcore.CellAnnotations.n_annotations">¶</a></dt>
<dd>
<p>number of annotations</p>
</dd></dl>
<dl class="py property code-definition">
<dt class="sig sig-object py" id="imagingplus.main.subcore.CellAnnotations.cell_id">
<em class="property">property<span class="w"> </span></em><code class="sig-name descname">cell_id</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.subcore.CellAnnotations.cell_id">¶</a></dt>
<dd>
<p>ID of cells. redundancy of .cells_array.</p>
</dd></dl>
</dd></dl>
<dl class="py class code-definition">
<dt class="sig sig-object py" id="imagingplus.main.subcore.ImagingData">
<em class="property">class<span class="w"> </span></em><code class="sig-prename descclassname">imagingplus.main.subcore.</code><code class="sig-name descname">ImagingData</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">imdata</span><span class="p">:</span><span class="w"> </span><span class="n">Union<span class="p">[</span>numpy.ndarray<span class="p">,</span><span class="w"> </span>pandas.core.frame.DataFrame<span class="p">]</span></span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/main/subcore.html#ImagingData"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.subcore.ImagingData">¶</a></dt>
<dd>
<p>Imaging dataset.</p>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.main.subcore.ImagingData.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">imdata</span><span class="p">:</span><span class="w"> </span><span class="n">Union<span class="p">[</span>numpy.ndarray<span class="p">,</span><span class="w"> </span>pandas.core.frame.DataFrame<span class="p">]</span></span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/main/subcore.html#ImagingData.__init__"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.subcore.ImagingData.__init__">¶</a></dt>
<dd>
<p>Imaging dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>imdata</strong> – N rois x num_frames, table of imaging data of cells (N) collected over time (Frames)</p>
</dd>
</dl>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.subcore.ImagingData.imdata">
<code class="sig-name descname">imdata</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.subcore.ImagingData.imdata">¶</a></dt>
<dd>
<p>N rois x num_frames, table of imaging data of cells (N) collected over time (Frames)</p>
</dd></dl>
<dl class="py property code-definition">
<dt class="sig sig-object py" id="imagingplus.main.subcore.ImagingData.n_frames">
<em class="property">property<span class="w"> </span></em><code class="sig-name descname">n_frames</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.subcore.ImagingData.n_frames">¶</a></dt>
<dd>
<p>number of imaging frames in imaging data</p>
</dd></dl>
<dl class="py property code-definition">
<dt class="sig sig-object py" id="imagingplus.main.subcore.ImagingData.n_rois">
<em class="property">property<span class="w"> </span></em><code class="sig-name descname">n_rois</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.subcore.ImagingData.n_rois">¶</a></dt>
<dd>
<p>number of ROIs in imaging data
:return:</p>
</dd></dl>
</dd></dl>
<dl class="py class code-definition">
<dt class="sig sig-object py" id="imagingplus.main.subcore.ImagingMetadata">
<em class="property">class<span class="w"> </span></em><code class="sig-prename descclassname">imagingplus.main.subcore.</code><code class="sig-name descname">ImagingMetadata</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">microscope</span></em>, <em class="sig-param"><span class="n">n_frames</span></em>, <em class="sig-param"><span class="n">fps</span></em>, <em class="sig-param"><span class="n">frame_x</span></em>, <em class="sig-param"><span class="n">frame_y</span></em>, <em class="sig-param"><span class="n">n_planes</span></em>, <em class="sig-param"><span class="n">pix_sz_x</span></em>, <em class="sig-param"><span class="n">pix_sz_y</span></em>, <em class="sig-param"><span class="n">emission_lambda</span><span class="p">:</span><span class="w"> </span><span class="n">float</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">0.0</span></em>, <em class="sig-param"><span class="n">excitation_lambda</span><span class="p">:</span><span class="w"> </span><span class="n">float</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">0.0</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/main/subcore.html#ImagingMetadata"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.subcore.ImagingMetadata">¶</a></dt>
<dd>
<p>Metadata about imaging system parameters.</p>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.subcore.ImagingMetadata.PIXEL_SIZE_UNITS">
<code class="sig-name descname">PIXEL_SIZE_UNITS</code><em class="property"><span class="p">:</span><span class="w"> </span>str</em><em class="property"><span class="w"> </span><span class="p">=</span><span class="w"> </span>'microns per pixel'</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.subcore.ImagingMetadata.PIXEL_SIZE_UNITS">¶</a></dt>
<dd>
<p>units for the values of the size of imaging pixels</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.subcore.ImagingMetadata.IMAGING_SIGNAL_UNITS">
<code class="sig-name descname">IMAGING_SIGNAL_UNITS</code><em class="property"><span class="p">:</span><span class="w"> </span>str</em><em class="property"><span class="w"> </span><span class="p">=</span><span class="w"> </span>'A.U.'</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.subcore.ImagingMetadata.IMAGING_SIGNAL_UNITS">¶</a></dt>
<dd>
<p>set as arbitrary units</p>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.main.subcore.ImagingMetadata.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">microscope</span></em>, <em class="sig-param"><span class="n">n_frames</span></em>, <em class="sig-param"><span class="n">fps</span></em>, <em class="sig-param"><span class="n">frame_x</span></em>, <em class="sig-param"><span class="n">frame_y</span></em>, <em class="sig-param"><span class="n">n_planes</span></em>, <em class="sig-param"><span class="n">pix_sz_x</span></em>, <em class="sig-param"><span class="n">pix_sz_y</span></em>, <em class="sig-param"><span class="n">emission_lambda</span><span class="p">:</span><span class="w"> </span><span class="n">float</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">0.0</span></em>, <em class="sig-param"><span class="n">excitation_lambda</span><span class="p">:</span><span class="w"> </span><span class="n">float</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">0.0</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/main/subcore.html#ImagingMetadata.__init__"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.subcore.ImagingMetadata.__init__">¶</a></dt>
<dd>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.subcore.ImagingMetadata.microscope">
<code class="sig-name descname">microscope</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.subcore.ImagingMetadata.microscope">¶</a></dt>
<dd>
<p>given name of microscope</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.subcore.ImagingMetadata.n_frames">
<code class="sig-name descname">n_frames</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.subcore.ImagingMetadata.n_frames">¶</a></dt>
<dd>
<p>number of imaging frames in the current trial</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.subcore.ImagingMetadata.fps">
<code class="sig-name descname">fps</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.subcore.ImagingMetadata.fps">¶</a></dt>
<dd>
<p>rate of imaging acquisition (frames per second)</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.subcore.ImagingMetadata.frame_x">
<code class="sig-name descname">frame_x</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.subcore.ImagingMetadata.frame_x">¶</a></dt>
<dd>
<p>num of pixels in the x direction of a single frame</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.subcore.ImagingMetadata.frame_y">
<code class="sig-name descname">frame_y</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.subcore.ImagingMetadata.frame_y">¶</a></dt>
<dd>
<p>num of pixels in the y direction of a single frame</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.subcore.ImagingMetadata.n_planes">
<code class="sig-name descname">n_planes</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.subcore.ImagingMetadata.n_planes">¶</a></dt>
<dd>
<p>num of FOV planes in imaging acquisition</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.subcore.ImagingMetadata.pix_sz_x">
<code class="sig-name descname">pix_sz_x</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.subcore.ImagingMetadata.pix_sz_x">¶</a></dt>
<dd>
<p>size of a single imaging pixel in x direction (microns per pixel)</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.subcore.ImagingMetadata.pix_sz_y">
<code class="sig-name descname">pix_sz_y</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.subcore.ImagingMetadata.pix_sz_y">¶</a></dt>
<dd>
<p>size of a single imaging pixel in y direction (microns per pixel)</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.subcore.ImagingMetadata.emission_lambda">
<code class="sig-name descname">emission_lambda</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.subcore.ImagingMetadata.emission_lambda">¶</a></dt>
<dd>
<p>wavelength of optical channel imaging collection</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.main.subcore.ImagingMetadata.excitation_lambda">
<code class="sig-name descname">excitation_lambda</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.main.subcore.ImagingMetadata.excitation_lambda">¶</a></dt>
<dd>
<p>wavelength of excitation during imaging</p>
</dd></dl>
</dd></dl>
</section>
<section id="module-imagingplus.plotting.plotting">
<span id="plotting"></span><h2>plotting<a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#module-imagingplus.plotting.plotting">¶</a></h2>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.plotting.plotting.plotImg">
<code class="sig-prename descclassname">imagingplus.plotting.plotting.</code><code class="sig-name descname">plotImg</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">img</span><span class="p">:</span><span class="w"> </span><span class="n">numpy.ndarray</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/plotting/plotting.html#plotImg"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.plotting.plotting.plotImg">¶</a></dt>
<dd>
<p>Plot image in grayscale.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>img</strong> – input image to show</p></li>
<li><p><strong>kwargs</strong> – <dl class="field-list simple">
<dt class="field-odd">trialobj</dt>
<dd class="field-odd"><p>ImagingTrial or SingleImage; object associated with input image.</p>
</dd>
<dt class="field-even">scalebar_um</dt>
<dd class="field-even"><p>int; size of scalebar to plot on image (in um); must provide trialobj parameter.</p>
</dd>
</dl>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.plotting.plotting.plotRoiLocations">
<code class="sig-prename descclassname">imagingplus.plotting.plotting.</code><code class="sig-name descname">plotRoiLocations</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">trialobj</span><span class="p">:</span><span class="w"> </span><span class="n">imagingplus.workflows.TwoPhotonImaging.TwoPhotonImaging</span></em>, <em class="sig-param"><span class="n">suite2p_rois</span><span class="p">:</span><span class="w"> </span><span class="n">Union<span class="p">[</span>list<span class="p">,</span><span class="w"> </span>str<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">'all'</span></em>, <em class="sig-param"><span class="n">background</span><span class="p">:</span><span class="w"> </span><span class="n">numpy.ndarray</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/plotting/plotting.html#plotRoiLocations"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.plotting.plotting.plotRoiLocations">¶</a></dt>
<dd>
<p>plots an image of the FOV to show the locations of cells given in cells ls.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>trialobj</strong> – alloptical or 2p imaging object</p></li>
<li><p><strong>background</strong> – either 2dim numpy array to use as the backsplash or None (default; which is a black background)</p></li>
<li><p><strong>suite2p_rois</strong> – list of ROIs (suite2p cell IDs) to show coord location, default is ‘all’ (which is all ROIs)</p></li>
<li><p><strong>edgecolor</strong> – specify edgecolor of the scatter plot for cells</p></li>
<li><p><strong>facecolor</strong> – specify facecolor of the scatter plot for cells</p></li>
<li><p><strong>cells</strong> – list of cells to plot</p></li>
<li><p><strong>title</strong> – title for plot</p></li>
<li><p><strong>color_float_list</strong> – if given, it will be used to color the cells according a colormap</p></li>
<li><p><strong>cmap</strong> – cmap to be used in conjuction with the color_float_array argument</p></li>
<li><p><strong>show_s2p_targets</strong> – if True, then will prioritize coloring of cell points based on whether they were photostim targets</p></li>
<li><p><strong>invert_y</strong> – if True, invert the reverse the direction of the y axis</p></li>
<li><p><strong>fig</strong> – a matplotlib.Figure instance, if provided use this fig for plotting</p></li>
<li><p><strong>ax</strong> – a matplotlib.Axes.axes instance, if provided use this ax for plotting</p></li>
<li><p><strong>show</strong> – if False, do not display plot (used when the necessity is to return the fig and ax objects to futher manipulation)</p></li>
</ul>
</dd>
<dt class="field-even">Returns fig, ax</dt>
<dd class="field-even"><p>returns fig and ax object, if show is False</p>
</dd>
</dl>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.plotting.plotting.makeSuite2pPlots">
<code class="sig-prename descclassname">imagingplus.plotting.plotting.</code><code class="sig-name descname">makeSuite2pPlots</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span><span class="p">:</span><span class="w"> </span><span class="n">Union<span class="p">[</span><a class="reference internal" href="#imagingplus.main.core.Experiment" title="imagingplus.main.core.Experiment">imagingplus.main.core.Experiment</a><span class="p">,</span><span class="w"> </span>imagingplus.workflows.TwoPhotonImaging.TwoPhotonImaging<span class="p">]</span></span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/plotting/plotting.html#makeSuite2pPlots"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.plotting.plotting.makeSuite2pPlots">¶</a></dt>
<dd>
<p>Makes four plots that are created by Suite2p output.</p>
<p>credit: run_s2p tutorial on Mouseland/Suite2p on github</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> – Experiment or Trial object to use for creating Suite2p plots.</p></li>
<li><p><strong>axs</strong> – a matplotlib.Axes.axes instance (4 cols x 1 rows), if provided use these axes for plotting</p></li>
<li><p><strong>show</strong> – if False, do not display plot (used when the necessity is to return the fig and ax objects to futher manipulation)</p></li>
</ul>
</dd>
<dt class="field-even">Returns fig, axs</dt>
<dd class="field-even"><p>returns fig and ax object, if show is False</p>
</dd>
</dl>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.plotting.plotting.plot_flu_trace">
<code class="sig-prename descclassname">imagingplus.plotting.plotting.</code><code class="sig-name descname">plot_flu_trace</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">trialobj</span><span class="p">:</span><span class="w"> </span><span class="n">imagingplus.workflows.TwoPhotonImaging.TwoPhotonImaging</span></em>, <em class="sig-param"><span class="n">cell</span><span class="p">:</span><span class="w"> </span><span class="n">int</span></em>, <em class="sig-param"><span class="n">to_plot</span><span class="o">=</span><span class="default_value">'raw'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/plotting/plotting.html#plot_flu_trace"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.plotting.plotting.plot_flu_trace">¶</a></dt>
<dd>
<p>Plot individual cell’s flu or dFF trace, with photostim. timings for that cell. Accesses the object’s anndata data storage.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>trialobj</strong> – TwoPhotonImaging (or derived) object containing anndata data storage from which to select cell to plot flu trace</p></li>
<li><p><strong>cell</strong> – cell index number</p></li>
<li><p><strong>to_plot</strong> – select data layer to plot (choose ‘raw’ to plot main raw data layer, otherwise choose name of the desired layer)</p></li>
<li><p><strong>fig</strong> – a matplotlib.Figure instance, if provided use this fig for plotting</p></li>
<li><p><strong>ax</strong> – a matplotlib.Axes.axes instance, if provided use this ax for plotting</p></li>
<li><p><strong>show</strong> – if False, do not display plot (used when the necessity is to return the fig and ax objects to futher manipulation)</p></li>
</ul>
</dd>
<dt class="field-even">Returns fig, ax</dt>
<dd class="field-even"><p>returns fig and ax object, if show is False</p>
</dd>
</dl>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.plotting.plotting.plot__channel">
<code class="sig-prename descclassname">imagingplus.plotting.plotting.</code><code class="sig-name descname">plot__channel</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tmdata</span><span class="p">:</span><span class="w"> </span><span class="n"><a class="reference internal" href="#imagingplus.main.subcore.TemporalData" title="imagingplus.main.subcore.TemporalData">imagingplus.main.subcore.TemporalData</a></span></em>, <em class="sig-param"><span class="n">channel</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/plotting/plotting.html#plot__channel"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.plotting.plotting.plot__channel">¶</a></dt>
<dd>
<p>Plot the saved signal from the specified channel from a PaqData submodule.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tmdata</strong> – TemporalData object</p></li>
<li><p><strong>channel</strong> – channel to plot</p></li>
<li><p><strong>kwargs</strong> – <dl class="field-list simple">
<dt class="field-odd">x_axis</dt>
<dd class="field-odd"><p>str; x axis label, if ‘time’ or “Time” found in x_axis label, will convert x axis to time domain.</p>
</dd>
<dt class="field-even">x_tick_secs</dt>
<dd class="field-even"><p>int; interval to plot x axis ticks</p>
</dd>
<dt class="field-odd">ax</dt>
<dd class="field-odd"><p>matplotlib axis object to use for plotting.</p>
</dd>
</dl>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.plotting.plotting.MeanProject">
<code class="sig-prename descclassname">imagingplus.plotting.plotting.</code><code class="sig-name descname">MeanProject</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tiff_path</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">frames</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>tuple<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">save_path</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">plot</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">imstack</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>numpy.ndarray<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint">numpy.ndarray</span></span><a class="reference internal" href="_modules/imagingplus/plotting/plotting.html#MeanProject"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.plotting.plotting.MeanProject">¶</a></dt>
<dd>
<p>Mean Projection function.
Creates, plots and (optionally) saves a Mean Projection image of the loaded tiff. If frames are provided, tiff is cropped to those frames.</p>
<p>Note: saves as 8-bit grayscale image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tiff_path</strong> – path to tiff file to load (if imstack not provided)</p></li>
<li><p><strong>save_path</strong> – path to save output image</p></li>
<li><p><strong>plot</strong> – if True, show the output image</p></li>
<li><p><strong>imstack</strong> – data stack to use as input (if tiff_path not provided)</p></li>
<li><p><strong>frames</strong> – crop input stack to specified frames before calculating mean projection.</p></li>
<li><p><strong>kwargs</strong> – <dl class="field-list simple">
<dt class="field-odd">trialobj</dt>
<dd class="field-odd"><p>ImagingTrial or SingleImage; object associated with input image.</p>
</dd>
<dt class="field-even">scalebar_um</dt>
<dd class="field-even"><p>int; size of scalebar to plot on image (in um); must provide trialobj parameter.</p>
</dd>
</dl>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>mean projection image</p>
</dd>
</dl>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.plotting.plotting.MaxProject">
<code class="sig-prename descclassname">imagingplus.plotting.plotting.</code><code class="sig-name descname">MaxProject</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tiff_path</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">frames</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>tuple<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">save_path</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">plot</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">imstack</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>numpy.ndarray<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint">numpy.ndarray</span></span><a class="reference internal" href="_modules/imagingplus/plotting/plotting.html#MaxProject"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.plotting.plotting.MaxProject">¶</a></dt>
<dd>
<p>Maximum projection function.
Creates, plots and (optionally) saves an average image of the loaded tiff. If frames are provided, tiff is cropped to those frames.</p>
<p>Note: saves as 8-bit grayscale image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tiff_path</strong> – path to tiff file to load (if imstack not provided)</p></li>
<li><p><strong>save_path</strong> – path to save output image</p></li>
<li><p><strong>plot</strong> – if True, show the output image</p></li>
<li><p><strong>imstack</strong> – data stack to use as input (if tiff_path not provided)</p></li>
<li><p><strong>frames</strong> – crop input stack to specified frames before calculating maximum projection.</p></li>
<li><p><strong>kwargs</strong> – <dl class="field-list simple">
<dt class="field-odd">trialobj</dt>
<dd class="field-odd"><p>ImagingTrial or SingleImage; object associated with input image.</p>
</dd>
<dt class="field-even">scalebar_um</dt>
<dd class="field-even"><p>int; size of scalebar to plot on image (in um); must provide trialobj parameter.</p>
</dd>
</dl>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>maximum projection image</p>
</dd>
</dl>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.plotting.plotting.StdevProject">
<code class="sig-prename descclassname">imagingplus.plotting.plotting.</code><code class="sig-name descname">StdevProject</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tiff_path</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">frames</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>tuple<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">save_path</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">plot</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">imstack</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>numpy.ndarray<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/plotting/plotting.html#StdevProject"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.plotting.plotting.StdevProject">¶</a></dt>
<dd>
<p>Creates, plots and (optionally) saves an average image of the loaded tiff. If frames are provided, tiff is cropped to those frames.</p>
<p>Note: saves as 8-bit grayscale image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tiff_path</strong> – path to tiff file to load (if imstack not provided)</p></li>
<li><p><strong>imstack</strong> – data stack to use as input (if tiff_path not provided)</p></li>
<li><p><strong>frames</strong> – crop input stack to specified frames before calculating stdev projection.</p></li>
<li><p><strong>save_path</strong> – path to save output image</p></li>
<li><p><strong>plot</strong> – if True, show the output image</p></li>
<li><p><strong>kwargs</strong> – <dl class="field-list simple">
<dt class="field-odd">trialobj</dt>
<dd class="field-odd"><p>ImagingTrial or SingleImage; object associated with input image.</p>
</dd>
<dt class="field-even">scalebar_um</dt>
<dd class="field-even"><p>int; size of scalebar to plot on image (in um); must provide trialobj parameter.</p>
</dd>
</dl>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>stdev projection image</p>
</dd>
</dl>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.plotting.plotting.InspectTiff">
<code class="sig-prename descclassname">imagingplus.plotting.plotting.</code><code class="sig-name descname">InspectTiff</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tiff_path</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">frames</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>tuple<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">imstack</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>numpy.ndarray<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/plotting/plotting.html#InspectTiff"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.plotting.plotting.InspectTiff">¶</a></dt>
<dd>
<p>Plot stdev, max and mean project of input image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tiff_path</strong> – path to tiff file to load (if imstack not provided)</p></li>
<li><p><strong>imstack</strong> – data stack to use as input (if tiff_path not provided)</p></li>
<li><p><strong>frames</strong> – crop input stack to specified frames before calculating stdev projection.</p></li>
<li><p><strong>kwargs</strong> – <dl class="field-list simple">
<dt class="field-odd">trialobj</dt>
<dd class="field-odd"><p>ImagingTrial or SingleImage; object associated with input image.</p>
</dd>
<dt class="field-even">scalebar_um</dt>
<dd class="field-even"><p>int; size of scalebar to plot on image (in um); must provide trialobj parameter.</p>
</dd>
</dl>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.plotting.plotting.FrameAverage">
<code class="sig-prename descclassname">imagingplus.plotting.plotting.</code><code class="sig-name descname">FrameAverage</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">key_frames</span><span class="p">:</span><span class="w"> </span><span class="n">Union<span class="p">[</span>int<span class="p">,</span><span class="w"> </span>list<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">tiff_path</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">imstack</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>numpy.ndarray<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">peri_frames</span><span class="p">:</span><span class="w"> </span><span class="n">int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">100</span></em>, <em class="sig-param"><span class="n">save_path</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">plot</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint">numpy.ndarray</span></span><a class="reference internal" href="_modules/imagingplus/plotting/plotting.html#FrameAverage"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.plotting.plotting.FrameAverage">¶</a></dt>
<dd>
<p>Creates, plots and/or saves an average image of the specified number of peri-key_frames around the given frame from a multipage imaging TIFF file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tiff_path</strong> – path to tiff file to load (if imstack not provided)</p></li>
<li><p><strong>imstack</strong> – data stack to use as input (if tiff_path not provided)</p></li>
<li><p><strong>key_frames</strong> – key frames around which to create peri-frame averages</p></li>
<li><p><strong>peri_frames</strong> – number of frames around the key frame to calculate average from</p></li>
<li><p><strong>plot</strong> – if True, show the output image</p></li>
<li><p><strong>save_path</strong> – path to save output image</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>array of images</p>
</dd>
</dl>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.plotting.plotting.SingleFrame">
<code class="sig-prename descclassname">imagingplus.plotting.plotting.</code><code class="sig-name descname">SingleFrame</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tiff_path</span><span class="p">:</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">frame_num</span><span class="p">:</span><span class="w"> </span><span class="n">int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">title</span><span class="p">:</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">imstack</span><span class="p">:</span><span class="w"> </span><span class="n">numpy.array</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/plotting/plotting.html#SingleFrame"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.plotting.plotting.SingleFrame">¶</a></dt>
<dd>
<p>plots an image of a single specified tiff frame after reading using tifffile.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tiff_path</strong> – path to .tiff file to loads</p></li>
<li><p><strong>frame_num</strong> – frame # from 2p imaging tiff to show (default is 0 - i.e. the first frame)</p></li>
<li><p><strong>title</strong> – (optional) give a string to use as title</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>matplotlib imshow plot</p>
</dd>
</dl>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.plotting.plotting.plotMeanFovFluTrace">
<code class="sig-prename descclassname">imagingplus.plotting.plotting.</code><code class="sig-name descname">plotMeanFovFluTrace</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">trialobj</span><span class="p">:</span><span class="w"> </span><span class="n">imagingplus.workflows.TwoPhotonImaging.TwoPhotonImaging</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/plotting/plotting.html#plotMeanFovFluTrace"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.plotting.plotting.plotMeanFovFluTrace">¶</a></dt>
<dd>
<p>Make plot of mean fluorescence trace averaged over the whole FOV</p>
<p>NOTE: this function will use the underlying timing that is found under trialobj.tmdata (if that is defined). If there is a mismatch in the number of frame timestamps collected and
the number of imaging frames data, the shorter length will be used for plotting (with no warning printed, as it is often the case that there are dropped frames from the microscope).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>trialobj</strong> – TwoPhotonImaging (or derived) object</p></li>
<li><p><strong>kwargs</strong> – <dl class="field-list simple">
<dt class="field-odd">ax</dt>
<dd class="field-odd"><p>matplotlib axis object to use for plotting.</p>
</dd>
</dl>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.plotting.plotting.plot_photostim_traces_overlap">
<code class="sig-prename descclassname">imagingplus.plotting.plotting.</code><code class="sig-name descname">plot_photostim_traces_overlap</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">array</span></em>, <em class="sig-param"><span class="n">trialobj</span><span class="p">:</span><span class="w"> </span><span class="n"><a class="reference internal" href="#imagingplus.workflows.AllOptical.AllOpticalTrial" title="imagingplus.workflows.AllOptical.AllOpticalTrial">imagingplus.workflows.AllOptical.AllOpticalTrial</a></span></em>, <em class="sig-param"><span class="n">exclude_id</span><span class="p">:</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">y_spacing_factor</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">title</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">x_axis</span><span class="o">=</span><span class="default_value">'Time (seconds)'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/plotting/plotting.html#plot_photostim_traces_overlap"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.plotting.plotting.plot_photostim_traces_overlap">¶</a></dt>
<dd>
<p>Plot fluorescence traces of alloptical stimulated cells on one plot.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>array</strong> – fluorescence traces of alloptical stimulated cells to plot.</p></li>
<li><p><strong>trialobj</strong> – AllOptical object to select cells from</p></li>
<li><p><strong>exclude_id</strong> – list of cell id’s to exclude from plot</p></li>
<li><p><strong>y_spacing_factor</strong> – increase to add more space between plotted traces</p></li>
<li><p><strong>title</strong> – title of plot</p></li>
<li><p><strong>x_axis</strong> – x-axis of plot in units of Frames or Time (seconds)</p></li>
<li><p><strong>kwargs</strong> – <dl class="field-list simple">
<dt class="field-odd">ax</dt>
<dd class="field-odd"><p>matplotlib axis object to use for plotting.</p>
</dd>
</dl>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.plotting.plotting.plot_periphotostim_avg2">
<code class="sig-prename descclassname">imagingplus.plotting.plotting.</code><code class="sig-name descname">plot_periphotostim_avg2</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dataset</span></em>, <em class="sig-param"><span class="n">fps</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">legend_labels</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">colors</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">avg_with_std</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">title</span><span class="o">=</span><span class="default_value">'high quality plot'</span></em>, <em class="sig-param"><span class="n">pre_stim_sec</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ylim</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">fig</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ax</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/plotting/plotting.html#plot_periphotostim_avg2"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.plotting.plotting.plot_periphotostim_avg2">¶</a></dt>
<dd>
<dl class="simple">
<dt>TODO fill documentation and add parameters</dt><dd><dl class="field-list simple">
<dt class="field-odd">param dataset</dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">param fps</dt>
<dd class="field-even"><p></p></dd>
<dt class="field-odd">param legend_labels</dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">param colors</dt>
<dd class="field-even"><p></p></dd>
<dt class="field-odd">param avg_with_std</dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">param title</dt>
<dd class="field-even"><p></p></dd>
<dt class="field-odd">param pre_stim_sec</dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">param ylim</dt>
<dd class="field-even"><p></p></dd>
<dt class="field-odd">param fig</dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">param ax</dt>
<dd class="field-even"><p></p></dd>
<dt class="field-odd">param kwargs</dt>
<dd class="field-odd"><p></p></dd>
</dl>
</dd>
</dl>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.plotting.plotting.plot_periphotostim_avg">
<code class="sig-prename descclassname">imagingplus.plotting.plotting.</code><code class="sig-name descname">plot_periphotostim_avg</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">arr</span><span class="p">:</span><span class="w"> </span><span class="n">numpy.ndarray</span></em>, <em class="sig-param"><span class="n">trialobj</span><span class="p">:</span><span class="w"> </span><span class="n"><a class="reference internal" href="#imagingplus.workflows.AllOptical.AllOpticalTrial" title="imagingplus.workflows.AllOptical.AllOpticalTrial">imagingplus.workflows.AllOptical.AllOpticalTrial</a></span></em>, <em class="sig-param"><span class="n">pre_stim_sec</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">post_stim_sec</span><span class="o">=</span><span class="default_value">3.0</span></em>, <em class="sig-param"><span class="n">title</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">avg_only</span><span class="p">:</span><span class="w"> </span><span class="n">bool</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">x_label</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">y_label</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">pad</span><span class="o">=</span><span class="default_value">20</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/plotting/plotting.html#plot_periphotostim_avg"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.plotting.plotting.plot_periphotostim_avg">¶</a></dt>
<dd>
<p>plot trace across all stims
:param arr: Flu traces to plot (will be plotted as individual traces unless avg_only is True) dimensions should be cells x stims x key_frames
:param trialobj: instance object of AllOpticalTrial
:param pre_stim_sec: seconds of array to plot for pre-stim period
:param post_stim_sec: seconds of array to plot for post-stim period
:param title: title to use for plot
:param avg_only: if True, only plot the mean trace calculated from the traces provided in arr
:param x_label: x axis label
:param y_label: y axis label
:param kwargs:</p>
<blockquote>
<div><dl class="simple">
<dt>options include:</dt><dd><p>‘stim_duration’: photostimulation duration in secs
‘y_lims’: tuple, y min and max of the plot
‘edgecolor’: str, edgecolor of the individual traces behind the mean trace
‘savepath’: str, path to save plot to</p>
</dd>
</dl>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fig</strong> – a matplotlib.Figure instance, if provided use this fig for plotting</p></li>
<li><p><strong>ax</strong> – a matplotlib.Axes.axes instance, if provided use this ax for plotting</p></li>
<li><p><strong>show</strong> – if False, do not display plot (used when the necessity is to return the fig and ax objects to futher manipulation)</p></li>
</ul>
</dd>
<dt class="field-even">Returns fig, ax</dt>
<dd class="field-even"><p>returns fig and ax object, if show is False</p>
</dd>
</dl>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.plotting.plotting.plot_SLMtargets_Locs">
<code class="sig-prename descclassname">imagingplus.plotting.plotting.</code><code class="sig-name descname">plot_SLMtargets_Locs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">trialobj</span><span class="p">:</span><span class="w"> </span><span class="n"><a class="reference internal" href="#imagingplus.workflows.AllOptical.AllOpticalTrial" title="imagingplus.workflows.AllOptical.AllOpticalTrial">imagingplus.workflows.AllOptical.AllOpticalTrial</a></span></em>, <em class="sig-param"><span class="n">targets_coords</span><span class="p">:</span><span class="w"> </span><span class="n">Union<span class="p">[</span>list<span class="p">,</span><span class="w"> </span>str<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">'all'</span></em>, <em class="sig-param"><span class="n">background</span><span class="p">:</span><span class="w"> </span><span class="n">numpy.ndarray</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/plotting/plotting.html#plot_SLMtargets_Locs"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.plotting.plotting.plot_SLMtargets_Locs">¶</a></dt>
<dd>
<p>plot SLM target coordinate locations</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>trialobj</strong> – </p></li>
<li><p><strong>targets_coords</strong> – ls containing (x,y) coordinates of targets to plot</p></li>
<li><p><strong>background</strong> – </p></li>
<li><p><strong>kwargs</strong> – </p></li>
<li><p><strong>fig</strong> – a matplotlib.Figure instance, if provided use this fig for plotting</p></li>
<li><p><strong>ax</strong> – a matplotlib.Axes.axes instance, if provided use this ax for plotting</p></li>
<li><p><strong>show</strong> – if False, do not display plot (used when the necessity is to return the fig and ax objects to futher manipulation)</p></li>
</ul>
</dd>
<dt class="field-even">Returns fig, ax</dt>
<dd class="field-even"><p>returns fig and ax object, if show is False</p>
</dd>
</dl>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.plotting.plotting.plot_s2pMasks">
<code class="sig-prename descclassname">imagingplus.plotting.plotting.</code><code class="sig-name descname">plot_s2pMasks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/plotting/plotting.html#plot_s2pMasks"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.plotting.plotting.plot_s2pMasks">¶</a></dt>
<dd>
<p>Creates some images of SLM targets to suite2p cells.</p>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.plotting.plotting.export_klicker_to_csv">
<code class="sig-prename descclassname">imagingplus.plotting.plotting.</code><code class="sig-name descname">export_klicker_to_csv</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">klicker</span><span class="p">:</span><span class="w"> </span><span class="n">mpl_point_clicker._clicker.clicker</span></em>, <em class="sig-param"><span class="n">csv_path</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/plotting/plotting.html#export_klicker_to_csv"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.plotting.plotting.export_klicker_to_csv">¶</a></dt>
<dd>
<p>Save point cellsdata from mplpointclicker klicker to .csv
:param klicker: mplpointclicker klicker object
:param csv_path: path to save csv file of klicker points</p>
</dd></dl>
</section>
<section id="module-imagingplus.processing.anndata">
<span id="processing"></span><h2>processing<a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#module-imagingplus.processing.anndata">¶</a></h2>
<dl class="py class code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.anndata.AnnotatedData">
<em class="property">class<span class="w"> </span></em><code class="sig-prename descclassname">imagingplus.processing.anndata.</code><code class="sig-name descname">AnnotatedData</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em>, <em class="sig-param"><span class="n">obs</span></em>, <em class="sig-param"><span class="n">var</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">data_label</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/processing/anndata.html#AnnotatedData"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.anndata.AnnotatedData">¶</a></dt>
<dd>
<p>Creates annotated cellsdata (see anndata library for more information on AnnotatedData) object based around the Ca2+ matrix of the imaging trial.</p>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.anndata.AnnotatedData.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span></em>, <em class="sig-param"><span class="n">obs</span></em>, <em class="sig-param"><span class="n">var</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">data_label</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/processing/anndata.html#AnnotatedData.__init__"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.anndata.AnnotatedData.__init__">¶</a></dt>
<dd>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.anndata.AnnotatedData.add_obs">
<code class="sig-name descname">add_obs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obs_name</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em>, <em class="sig-param"><span class="n">values</span><span class="p">:</span><span class="w"> </span><span class="n">list</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/processing/anndata.html#AnnotatedData.add_obs"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.anndata.AnnotatedData.add_obs">¶</a></dt>
<dd>
<p>adds values to the observations of an anndata object, under the key obs_name</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obs_name</strong> – name of new observation field to add to anndata table</p></li>
<li><p><strong>values</strong> – list of data values to add under new observation field</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.anndata.AnnotatedData.del_obs">
<code class="sig-name descname">del_obs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obs_name</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/processing/anndata.html#AnnotatedData.del_obs"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.anndata.AnnotatedData.del_obs">¶</a></dt>
<dd>
<p>removes a key from observations from an anndata object, of the key obs_name</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>obs_name</strong> – name of observation to remove</p>
</dd>
</dl>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.anndata.AnnotatedData.add_var">
<code class="sig-name descname">add_var</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">var_name</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em>, <em class="sig-param"><span class="n">values</span><span class="p">:</span><span class="w"> </span><span class="n">list</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/processing/anndata.html#AnnotatedData.add_var"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.anndata.AnnotatedData.add_var">¶</a></dt>
<dd>
<p>adds values to the variables of an anndata object, under the key var_name</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>var_name</strong> – name of new variable field to add to anndata table</p></li>
<li><p><strong>values</strong> – list of data values to add under new variable field</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.anndata.AnnotatedData.del_var">
<code class="sig-name descname">del_var</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">var_name</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/processing/anndata.html#AnnotatedData.del_var"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.anndata.AnnotatedData.del_var">¶</a></dt>
<dd>
<p>removes a key from variables from an anndata object, of the key var_name</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>var_name</strong> – name of variable to remove</p>
</dd>
</dl>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.anndata.AnnotatedData.extend_anndata">
<code class="sig-name descname">extend_anndata</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">additional_adata</span><span class="p">:</span><span class="w"> </span><span class="n">anndata._core.anndata.AnnData</span></em>, <em class="sig-param"><span class="n">axis</span><span class="p">:</span><span class="w"> </span><span class="n">Literal<span class="p">[</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/processing/anndata.html#AnnotatedData.extend_anndata"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.anndata.AnnotatedData.extend_anndata">¶</a></dt>
<dd>
<p>Extend with an additional anndata object. Specify axis to extend. Ensure that new anndata object matches number of variables or observations depending on
which axis is being extended.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>additional_adata</strong> – an anndata object with matching observations or variables (depending on which axis is being extended).</p></li>
<li><p><strong>axis</strong> – axis on which to extend</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.anndata.AnnotatedData.convert_to_df">
<code class="sig-name descname">convert_to_df</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint">pandas.core.frame.DataFrame</span></span><a class="reference internal" href="_modules/imagingplus/processing/anndata.html#AnnotatedData.convert_to_df"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.anndata.AnnotatedData.convert_to_df">¶</a></dt>
<dd>
<p>Convert anndata object into a long-form pandas dataframe. primary purpose is to allow access to pandas and seaborn functionality more directly.</p>
<ul class="simple">
<li><p>overall seems to be working well. just need to test with a dataset with &gt;1 obs and var keys(), and to test with the whole larger dataset.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>long-form pandas dataframe</p>
</dd>
</dl>
</dd></dl>
</dd></dl>
<span class="target" id="module-imagingplus.processing.cellpose"></span><dl class="py class code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.cellpose.CellposeImg">
<em class="property">class<span class="w"> </span></em><code class="sig-prename descclassname">imagingplus.processing.cellpose.</code><code class="sig-name descname">CellposeImg</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dataPath</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em>, <em class="sig-param"><span class="n">cellpose_npy_path</span></em>, <em class="sig-param"><span class="n">imparams</span><span class="p">:</span><span class="w"> </span><span class="n"><a class="reference internal" href="#imagingplus.main.subcore.ImagingMetadata" title="imagingplus.main.subcore.ImagingMetadata">imagingplus.main.subcore.ImagingMetadata</a></span></em>, <em class="sig-param"><span class="n">saveDir</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em>, <em class="sig-param"><span class="n">expGroup</span><span class="p">:</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">''</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/processing/cellpose.html#CellposeImg"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.cellpose.CellposeImg">¶</a></dt>
<dd>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.cellpose.CellposeImg.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dataPath</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em>, <em class="sig-param"><span class="n">cellpose_npy_path</span></em>, <em class="sig-param"><span class="n">imparams</span><span class="p">:</span><span class="w"> </span><span class="n"><a class="reference internal" href="#imagingplus.main.subcore.ImagingMetadata" title="imagingplus.main.subcore.ImagingMetadata">imagingplus.main.subcore.ImagingMetadata</a></span></em>, <em class="sig-param"><span class="n">saveDir</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em>, <em class="sig-param"><span class="n">expGroup</span><span class="p">:</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">''</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/processing/cellpose.html#CellposeImg.__init__"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.cellpose.CellposeImg.__init__">¶</a></dt>
<dd>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.cellpose.CellposeImg.roi_areas">
<code class="sig-name descname">roi_areas</code><em class="property"><span class="p">:</span><span class="w"> </span>dict</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.cellpose.CellposeImg.roi_areas">¶</a></dt>
<dd>
<p>dict containing coordinates of the whole masks generated by cellpose for each ROI</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.cellpose.CellposeImg.roi_outlines">
<code class="sig-name descname">roi_outlines</code><em class="property"><span class="p">:</span><span class="w"> </span>dict</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.cellpose.CellposeImg.roi_outlines">¶</a></dt>
<dd>
<p>dict containing coordinates of the outlines generated by cellpose for each ROI</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.cellpose.CellposeImg.masks">
<code class="sig-name descname">masks</code><em class="property"><span class="p">:</span><span class="w"> </span>numpy.ndarray</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.cellpose.CellposeImg.masks">¶</a></dt>
<dd>
<p>numpy array of ROIs masks, ROI # is allocated at the appropriate coordinate</p>
</dd></dl>
<dl class="py property code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.cellpose.CellposeImg.trial_id">
<em class="property">property<span class="w"> </span></em><code class="sig-name descname">trial_id</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.cellpose.CellposeImg.trial_id">¶</a></dt>
<dd>
<p>ID of processed image.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>str;</p>
</dd>
</dl>
</dd></dl>
<dl class="py property code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.cellpose.CellposeImg.roi_ids">
<em class="property">property<span class="w"> </span></em><code class="sig-name descname">roi_ids</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.cellpose.CellposeImg.roi_ids">¶</a></dt>
<dd>
<p>IDs of ROIs identified in cellpose processsed image.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list;</p>
</dd>
</dl>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.cellpose.CellposeImg.load_cellpose">
<em class="property">classmethod<span class="w"> </span></em><code class="sig-name descname">load_cellpose</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dataPath</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em>, <em class="sig-param"><span class="n">cellpose_npy_path</span></em>, <em class="sig-param"><span class="n">imparams</span><span class="p">:</span><span class="w"> </span><span class="n"><a class="reference internal" href="#imagingplus.main.subcore.ImagingMetadata" title="imagingplus.main.subcore.ImagingMetadata">imagingplus.main.subcore.ImagingMetadata</a></span></em>, <em class="sig-param"><span class="n">saveDir</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em>, <em class="sig-param"><span class="n">expGroup</span><span class="p">:</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/processing/cellpose.html#CellposeImg.load_cellpose"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.cellpose.CellposeImg.load_cellpose">¶</a></dt>
<dd>
<p>Alternate constructor.
Import and load array coords from cellpose generated ROI masks for red channel interneurons.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataPath</strong> – path to source image</p></li>
<li><p><strong>cellpose_npy_path</strong> – location of .npy output of previously completed cellpose run</p></li>
<li><p><strong>imparams</strong> – image collection parameters of image</p></li>
<li><p><strong>saveDir</strong> – path to save cellpose processing object</p></li>
<li><p><strong>expGroup</strong> – experimental group of image</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.cellpose.CellposeImg.plot_img">
<code class="sig-name descname">plot_img</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">roi_labels</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/processing/cellpose.html#CellposeImg.plot_img"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.cellpose.CellposeImg.plot_img">¶</a></dt>
<dd>
<p>Plotting source image with cellpose ROIs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>roi_labels</strong> – if True, label ROIs with cellpose IDs</p></li>
<li><p><strong>kwargs</strong> – <dl class="field-list simple">
<dt class="field-odd">trialobj</dt>
<dd class="field-odd"><p>ImagingTrial or SingleImage; object associated with input image.</p>
</dd>
<dt class="field-even">scalebar_um</dt>
<dd class="field-even"><p>int; size of scalebar to plot on image (in um); must provide trialobj parameter.</p>
</dd>
</dl>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.cellpose.CellposeImg.plot_rois">
<code class="sig-name descname">plot_rois</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">roi_labels</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/processing/cellpose.html#CellposeImg.plot_rois"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.cellpose.CellposeImg.plot_rois">¶</a></dt>
<dd>
<p>Plot cellpose ROI masks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>roi_labels</strong> – if True, label ROIs with cellpose IDs</p></li>
<li><p><strong>kwargs</strong> – <dl class="field-list simple">
<dt class="field-odd">trialobj</dt>
<dd class="field-odd"><p>ImagingTrial or SingleImage; object associated with input image.</p>
</dd>
<dt class="field-even">scalebar_um</dt>
<dd class="field-even"><p>int; size of scalebar to plot on image (in um); must provide trialobj parameter.</p>
</dd>
</dl>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>
</dd></dl>
<span class="target" id="module-imagingplus.processing.imagingMetadata"></span><dl class="py class code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.imagingMetadata.PrairieViewMetadata">
<em class="property">class<span class="w"> </span></em><code class="sig-prename descclassname">imagingplus.processing.imagingMetadata.</code><code class="sig-name descname">PrairieViewMetadata</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pv_xml_dir</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em>, <em class="sig-param"><span class="n">microscope</span><span class="p">:</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">'Bruker'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/processing/imagingMetadata.html#PrairieViewMetadata"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.imagingMetadata.PrairieViewMetadata">¶</a></dt>
<dd>
<p>class for parsing metadata of imaging microscope system.</p>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.imagingMetadata.PrairieViewMetadata.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pv_xml_dir</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em>, <em class="sig-param"><span class="n">microscope</span><span class="p">:</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">'Bruker'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/processing/imagingMetadata.html#PrairieViewMetadata.__init__"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.imagingMetadata.PrairieViewMetadata.__init__">¶</a></dt>
<dd>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.imagingMetadata.PrairieViewMetadata.pv_xml_dir">
<code class="sig-name descname">pv_xml_dir</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.imagingMetadata.PrairieViewMetadata.pv_xml_dir">¶</a></dt>
<dd>
<p>path to the directory containing the .xml imaging output from PrairieView for a given trial</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.imagingMetadata.PrairieViewMetadata.scan_x">
<code class="sig-name descname">scan_x</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.imagingMetadata.PrairieViewMetadata.scan_x">¶</a></dt>
<dd>
<p>resonant scan center in x axis</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.imagingMetadata.PrairieViewMetadata.scan_y">
<code class="sig-name descname">scan_y</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.imagingMetadata.PrairieViewMetadata.scan_y">¶</a></dt>
<dd>
<p>resonant scan center in y axis</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.imagingMetadata.PrairieViewMetadata.zoom">
<code class="sig-name descname">zoom</code><em class="property"><span class="p">:</span><span class="w"> </span>float</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.imagingMetadata.PrairieViewMetadata.zoom">¶</a></dt>
<dd>
<p>zoom level on Bruker microscope</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.imagingMetadata.PrairieViewMetadata.last_good_frame">
<code class="sig-name descname">last_good_frame</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.imagingMetadata.PrairieViewMetadata.last_good_frame">¶</a></dt>
<dd>
<p>indicates when the last good frame was during the t-series recording, if nothing was wrong the value is 0, otherwise it is &gt;0 and that indicates that PV is not sure what happened after the frame listed, but it could be corrupt cellsdata</p>
</dd></dl>
</dd></dl>
<span class="target" id="module-imagingplus.processing.paq"></span><dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.paq.paq2py">
<code class="sig-prename descclassname">imagingplus.processing.paq.</code><code class="sig-name descname">paq2py</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">plot</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/processing/paq.html#paq2py"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.paq.paq2py">¶</a></dt>
<dd>
<p>Read PAQ file (from PackIO) into python
Lloyd Russell 2015. Minor update for numpy &gt;1.18 by Prajay Shah 2021.
:param file_path: full path to file to read in. if none is supplied a load file dialog</p>
<blockquote>
<div><p>is opened, buggy on mac osx - Tk/matplotlib. Default: None.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>plot</strong> (<em>bool</em><em>, </em><em>optional</em>) – plot the cellsdata after reading? Default: False.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>cellsdata</strong> (<em>ndarray</em>) – the cellsdata as a m-by-n array where m is the number of channels and n is
the number of datapoints</p></li>
<li><p><strong>chan_names</strong> (<em>list of str</em>) – the names of the channels provided in PackIO</p></li>
<li><p><strong>hw_chans</strong> (<em>list of str</em>) – the hardware lines corresponding to each channel</p></li>
<li><p><strong>units</strong> (<em>list of str</em>) – the units of measurement for each channel</p></li>
<li><p><strong>rate</strong> (<em>int</em>) – the acquisition sample rate, in Hz</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>
<dl class="py class code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.paq.PaqData">
<em class="property">class<span class="w"> </span></em><code class="sig-prename descclassname">imagingplus.processing.paq.</code><code class="sig-name descname">PaqData</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file_path</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/processing/paq.html#PaqData"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.paq.PaqData">¶</a></dt>
<dd>
<p>access and storage of cellsdata from .paq files.</p>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.paq.PaqData.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file_path</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/processing/paq.html#PaqData.__init__"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.paq.PaqData.__init__">¶</a></dt>
<dd>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.paq.PaqData.sparse_paq_data">
<code class="sig-name descname">sparse_paq_data</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.paq.PaqData.sparse_paq_data">¶</a></dt>
<dd>
<p>array of paq cellsdata that corresponds to</p>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.paq.PaqData.stim_start_times">
<code class="sig-name descname">stim_start_times</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.paq.PaqData.stim_start_times">¶</a></dt>
<dd>
<p>paq clock time of photostimulation trial start</p>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.paq.PaqData.import_paqdata">
<em class="property">classmethod<span class="w"> </span></em><code class="sig-name descname">import_paqdata</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file_path</span></em>, <em class="sig-param"><span class="n">frame_times_channel</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">plot</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/processing/paq.html#PaqData.import_paqdata"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.paq.PaqData.import_paqdata">¶</a></dt>
<dd>
<p>Alternative constructor for PaqData. This is the preferred method for loading in paqdata.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> – path to .paq file</p></li>
<li><p><strong>frame_times_channel</strong> – channel to retrieve frame clock times from</p></li>
<li><p><strong>plot</strong> – whether to plot output of reading .paq file</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>PaqData object, and raw cellsdata from .paq file in numpy array</p>
</dd>
</dl>
<p>todo add example in docstring</p>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.paq.PaqData.paq_read">
<em class="property">static<span class="w"> </span></em><code class="sig-name descname">paq_read</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file_path</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em>, <em class="sig-param"><span class="n">plot</span><span class="p">:</span><span class="w"> </span><span class="n">bool</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/processing/paq.html#PaqData.paq_read"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.paq.PaqData.paq_read">¶</a></dt>
<dd>
<p>Loads .Paq file and saves cellsdata from individual channels.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> – path to the .Paq file for this cellsdata object</p></li>
<li><p><strong>plot</strong> – (optional) whether to plot</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.paq.PaqData.storePaqChannel">
<code class="sig-name descname">storePaqChannel</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">chan_name</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/processing/paq.html#PaqData.storePaqChannel"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.paq.PaqData.storePaqChannel">¶</a></dt>
<dd>
<p>add a specific channel’s (<cite>chan_name</cite>) cellsdata from the .paq file as attribute of the same name for
PaqData object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>chan_name</strong> – name of paq channel to add.</p>
</dd>
</dl>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.paq.PaqData.getPaqFrameTimes">
<code class="sig-name descname">getPaqFrameTimes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">frame_times_channel</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/processing/paq.html#PaqData.getPaqFrameTimes"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.paq.PaqData.getPaqFrameTimes">¶</a></dt>
<dd>
<p>Retrieve two-photon imaging frame times from .paq signal found in frame_times_channel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>paq_data</strong> – cellsdata loaded from .paq file (use .paq_read method)</p></li>
<li><p><strong>frame_times_channel</strong> – channel to retrieve frame clock times from</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>numpy array of frame clock times</p>
</dd>
</dl>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.paq.PaqData.plot__paq_channel">
<code class="sig-name descname">plot__paq_channel</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/processing/paq.html#PaqData.plot__paq_channel"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.paq.PaqData.plot__paq_channel">¶</a></dt>
<dd>
<p>temp placeholder incase you need specific plotting code compared to plotting with the general temporal cellsdata function</p>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.paq.PaqData.paqProcessingTwoPhotonImaging">
<em class="property">classmethod<span class="w"> </span></em><code class="sig-name descname">paqProcessingTwoPhotonImaging</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">paq_path</span></em>, <em class="sig-param"><span class="n">frame_channel</span></em>, <em class="sig-param"><span class="n">plot</span><span class="p">:</span><span class="w"> </span><span class="n">bool</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/processing/paq.html#PaqData.paqProcessingTwoPhotonImaging"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.paq.PaqData.paqProcessingTwoPhotonImaging">¶</a></dt>
<dd>
<p>Alternative constructor for paq module for working with two photon imaging trials.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>paq_path</strong> – path to .paq file</p></li>
<li><p><strong>frame_channel</strong> – channel to use for measuring frame times from .paq cellsdata</p></li>
<li><p><strong>plot</strong> – if True, then plot loaded .paq file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>PAQ cellsdata object</p>
</dd>
</dl>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.paq.PaqData.paqProcessingAllOptical">
<em class="property">classmethod<span class="w"> </span></em><code class="sig-name descname">paqProcessingAllOptical</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">paq_path</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em>, <em class="sig-param"><span class="n">stim_channel</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em>, <em class="sig-param"><span class="n">frame_channel</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em>, <em class="sig-param"><span class="n">plot</span><span class="p">:</span><span class="w"> </span><span class="n">bool</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/processing/paq.html#PaqData.paqProcessingAllOptical"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.paq.PaqData.paqProcessingAllOptical">¶</a></dt>
<dd>
<p>Alternative constructor for paq module for working with all optical trials.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>paq_path</strong> – path to .paq file</p></li>
<li><p><strong>stim_channel</strong> – channel to use for photostimulation timing start.</p></li>
<li><p><strong>frame_channel</strong> – channel to use for measuring frame times from .paq cellsdata</p></li>
<li><p><strong>plot</strong> – if True, plot loaded .paq file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>PAQ cellsdata object</p>
</dd>
</dl>
</dd></dl>
</dd></dl>
<span class="target" id="module-imagingplus.processing.suite2p"></span><dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.suite2p.s2pRun">
<code class="sig-prename descclassname">imagingplus.processing.suite2p.</code><code class="sig-name descname">s2pRun</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">expobj</span></em>, <em class="sig-param"><span class="n">trialsSuite2P</span><span class="p">:</span><span class="w"> </span><span class="n">Union<span class="p">[</span>list<span class="p">,</span><span class="w"> </span>str<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">'all'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/processing/suite2p.html#s2pRun"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.suite2p.s2pRun">¶</a></dt>
<dd>
<p>run suite2p for an Experiment object, using trials specified in current experiment object, using the attributes
determined directly from the experiment object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>expobj</strong> – a imagingplus.main.Experiment object</p></li>
<li><p><strong>trialsSuite2P</strong> – list of trialIDs from experiment to use in running suite2p</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.suite2p.s2p_loader">
<code class="sig-prename descclassname">imagingplus.processing.suite2p.</code><code class="sig-name descname">s2p_loader</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s2p_path</span></em>, <em class="sig-param"><span class="n">subtract_neuropil</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">neuropil_coeff</span><span class="o">=</span><span class="default_value">0.7</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/processing/suite2p.html#s2p_loader"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.suite2p.s2p_loader">¶</a></dt>
<dd>
<p>Load suite2p results from file path at <cite>s2p_path</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s2p_path</strong> – file path from which to load suite2p results</p></li>
<li><p><strong>subtract_neuropil</strong> – if True, use neuropil cooefficient to subtract neuropil signal from raw fluorescence signal.</p></li>
<li><p><strong>neuropil_coeff</strong> – neuropil coefficient to subtract neuropil signal.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Raw signal array (optionally neuropil corrected), deconvolved spikes, stat output, neuropil signal array</p>
</dd>
</dl>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.suite2p.from_stat_dict">
<code class="sig-prename descclassname">imagingplus.processing.suite2p.</code><code class="sig-name descname">from_stat_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">stat</span><span class="p">:</span><span class="w"> </span><span class="n">Dict<span class="p">[</span>str<span class="p">,</span><span class="w"> </span>Any<span class="p">]</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint">suite2p.detection.stats.ROI</span></span><a class="reference internal" href="_modules/imagingplus/processing/suite2p.html#from_stat_dict"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.suite2p.from_stat_dict">¶</a></dt>
<dd>
<p>Overloading function from suite2p source code.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>stat</strong> – suite2p results output stat dict</p>
</dd>
</dl>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.suite2p.to_array_">
<code class="sig-prename descclassname">imagingplus.processing.suite2p.</code><code class="sig-name descname">to_array_</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">Ly</span><span class="p">:</span><span class="w"> </span><span class="n">int</span></em>, <em class="sig-param"><span class="n">Lx</span><span class="p">:</span><span class="w"> </span><span class="n">int</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint">numpy.ndarray</span></span><a class="reference internal" href="_modules/imagingplus/processing/suite2p.html#to_array_"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.suite2p.to_array_">¶</a></dt>
<dd>
<p>Returns a 2D boolean array of shape (Ly x Lx) indicating where the roi is located.
Overloading function from suite2p source code.</p>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.suite2p.stats_dicts_to_3d_array_">
<code class="sig-prename descclassname">imagingplus.processing.suite2p.</code><code class="sig-name descname">stats_dicts_to_3d_array_</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">stat_dict</span></em>, <em class="sig-param"><span class="n">output_ops</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/processing/suite2p.html#stats_dicts_to_3d_array_"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.suite2p.stats_dicts_to_3d_array_">¶</a></dt>
<dd>
<p>Overloading function from suite2p source code.</p>
</dd></dl>
<dl class="py class code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.suite2p.Suite2pExperiment">
<em class="property">class<span class="w"> </span></em><code class="sig-prename descclassname">imagingplus.processing.suite2p.</code><code class="sig-name descname">Suite2pExperiment</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">trialsTiffsSuite2p</span><span class="p">:</span><span class="w"> </span><span class="n">dict</span></em>, <em class="sig-param"><span class="n">s2pResultsPath</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/processing/suite2p.html#Suite2pExperiment"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.suite2p.Suite2pExperiment">¶</a></dt>
<dd>
<p>used to run and further process suite2p processed cellsdata, and analysis associated with suite2p processed cellsdata.</p>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.suite2p.Suite2pExperiment.update_ops">
<em class="property">classmethod<span class="w"> </span></em><code class="sig-name descname">update_ops</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">new_ops_entries</span><span class="p">:</span><span class="w"> </span><span class="n">dict</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/processing/suite2p.html#Suite2pExperiment.update_ops"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.suite2p.Suite2pExperiment.update_ops">¶</a></dt>
<dd>
<p>Add or update existing ops fields before running suite2p pipeline.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>new_ops_entries</strong> – dict specificying new or updated ops fields.</p>
</dd>
</dl>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.suite2p.Suite2pExperiment.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">trialsTiffsSuite2p</span><span class="p">:</span><span class="w"> </span><span class="n">dict</span></em>, <em class="sig-param"><span class="n">s2pResultsPath</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/processing/suite2p.html#Suite2pExperiment.__init__"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.suite2p.Suite2pExperiment.__init__">¶</a></dt>
<dd>
<p>Submodule for connecting an Experiment to Suite2p for the specified trials/data_tiffs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>trialsTiffsSuite2p</strong> – </p></li>
<li><p><strong>s2pResultsPath</strong> – optional, if suite2p already run then here provide path to plane0 folder of existing suite2p results</p></li>
<li><p><strong>subtract_neuropil</strong> – </p></li>
<li><p><strong>dataPath</strong> – </p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.suite2p.Suite2pExperiment.bad_frames">
<code class="sig-name descname">bad_frames</code><em class="property"><span class="p">:</span><span class="w"> </span>list</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.suite2p.Suite2pExperiment.bad_frames">¶</a></dt>
<dd>
<p>list of key_frames to discard during Suite2p ROI detection procedure</p>
</dd></dl>
<dl class="py property code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.suite2p.Suite2pExperiment.s2pResultsPath">
<em class="property">property<span class="w"> </span></em><code class="sig-name descname">s2pResultsPath</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.suite2p.Suite2pExperiment.s2pResultsPath">¶</a></dt>
<dd>
<p>Path to the saved suite2p results output.</p>
</dd></dl>
<dl class="py property code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.suite2p.Suite2pExperiment.s2pResultExists">
<em class="property">property<span class="w"> </span></em><code class="sig-name descname">s2pResultExists</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.suite2p.Suite2pExperiment.s2pResultExists">¶</a></dt>
<dd>
<p>Return true if s2p results exist for current trial.</p>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.suite2p.Suite2pExperiment.stitch_reg_tiffs">
<code class="sig-name descname">stitch_reg_tiffs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">first_frame</span><span class="p">:</span><span class="w"> </span><span class="n">int</span></em>, <em class="sig-param"><span class="n">last_frame</span><span class="p">:</span><span class="w"> </span><span class="n">int</span></em>, <em class="sig-param"><span class="n">reg_tif_folder</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">s2p_run_batch</span><span class="p">:</span><span class="w"> </span><span class="n">int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">2000</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/processing/suite2p.html#Suite2pExperiment.stitch_reg_tiffs"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.suite2p.Suite2pExperiment.stitch_reg_tiffs">¶</a></dt>
<dd>
<p>Stitches together registered tiffs outputs from suite2p from the provided imaging frame start and end values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>first_frame</strong> – first frame from the overall s2p run to start stitching from</p></li>
<li><p><strong>last_frame</strong> – last frame from the overall s2p run to end stitching at</p></li>
<li><p><strong>s2p_run_batch</strong> – batch size for suite2p run (defaults to 2000 because that is usually the batch size while running suite2p processing)</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.suite2p.Suite2pExperiment.s2pMeanImage">
<code class="sig-name descname">s2pMeanImage</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">plot</span><span class="p">:</span><span class="w"> </span><span class="n">bool</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/processing/suite2p.html#Suite2pExperiment.s2pMeanImage"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.suite2p.Suite2pExperiment.s2pMeanImage">¶</a></dt>
<dd>
<p>Return array of the s2p mean image.
:param s2p_path: (optional) s2pResultsPath to location of s2p cellsdata
:param plot: (optional) option to plot the s2p mean image
:return:</p>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.suite2p.Suite2pExperiment.subSuite2p">
<em class="property">classmethod<span class="w"> </span></em><code class="sig-name descname">subSuite2p</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">trialsTiffs</span><span class="p">:</span><span class="w"> </span><span class="n">dict</span></em>, <em class="sig-param"><span class="n">s2pResultsPath</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/processing/suite2p.html#Suite2pExperiment.subSuite2p"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.suite2p.Suite2pExperiment.subSuite2p">¶</a></dt>
<dd>
<p>Alternative constructor for Suite2pExperiment class. Inputs a specific # of trials to use for loading up Suite2p.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>trialsTiffs</strong> – dictionary of trial ID and associated tiff path to use for creating new Suite2p instance.</p></li>
<li><p><strong>s2pResultsPath</strong> – path to save suite2p results outputs.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Suite2p instance</p>
</dd>
</dl>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.suite2p.Suite2pExperiment.add_bad_frames">
<code class="sig-name descname">add_bad_frames</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">frames</span></em>, <em class="sig-param"><span class="n">bad_frames_npy_loc</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint">None</span></span><a class="reference internal" href="_modules/imagingplus/processing/suite2p.html#Suite2pExperiment.add_bad_frames"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.suite2p.Suite2pExperiment.add_bad_frames">¶</a></dt>
<dd>
<p>Add frames to bad_frames.npy file that will be excluded by Suite2p during ROI segmentation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>frames</strong> – frames to add as bad_frames.</p></li>
<li><p><strong>bad_frames_npy_loc</strong> – directory to save bad_frame.npy file</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.suite2p.Suite2pExperiment.setupForSuite2p">
<code class="sig-name descname">setupForSuite2p</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">trialsSuite2P</span><span class="p">:</span><span class="w"> </span><span class="n">list</span></em>, <em class="sig-param"><span class="n">TrialsInformation</span><span class="p">:</span><span class="w"> </span><span class="n">dict</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/processing/suite2p.html#Suite2pExperiment.setupForSuite2p"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.suite2p.Suite2pExperiment.setupForSuite2p">¶</a></dt>
<dd>
<p>Run housekeeping tasks to organize fields prior to running Suite2p pipeline.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>trialsSuite2P</strong> – list of trials to use for Suite2p setup</p></li>
<li><p><strong>TrialsInformation</strong> – dictionary mapping trial ID to tiff_path to use for Suite2p processing of that trial</p></li>
<li><p><strong>kwargs</strong> – <dl class="field-list simple">
<dt class="field-odd">fs</dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">nplanes</dt>
<dd class="field-even"><p></p></dd>
<dt class="field-odd">pix_sz_x</dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">pix_sz_y</dt>
<dd class="field-even"><p></p></dd>
<dt class="field-odd">frame_x</dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">frame_y</dt>
<dd class="field-even"><p></p></dd>
<dt class="field-odd">n_channels</dt>
<dd class="field-odd"><p></p></dd>
</dl>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.suite2p.Suite2pExperiment.s2pRun">
<code class="sig-name descname">s2pRun</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">expobj</span></em>, <em class="sig-param"><span class="n">trialsSuite2P</span><span class="p">:</span><span class="w"> </span><span class="n">Union<span class="p">[</span>list<span class="p">,</span><span class="w"> </span>str<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">'all'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/processing/suite2p.html#Suite2pExperiment.s2pRun"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.suite2p.Suite2pExperiment.s2pRun">¶</a></dt>
<dd>
<p>Run suite2p pipeline.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>expobj</strong> – experiment object to run Suite2p on.</p></li>
<li><p><strong>trialsSuite2P</strong> – list of trials to run for Suite2p</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.suite2p.Suite2pExperiment.s2pROIsTiff">
<code class="sig-name descname">s2pROIsTiff</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">save_path</span></em>, <em class="sig-param"><span class="n">cell_ids</span><span class="p">:</span><span class="w"> </span><span class="n">Union<span class="p">[</span>str<span class="p">,</span><span class="w"> </span>list<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">'all'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/processing/suite2p.html#Suite2pExperiment.s2pROIsTiff"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.suite2p.Suite2pExperiment.s2pROIsTiff">¶</a></dt>
<dd>
<p>Save a TIFF image of the suite2p ROIs masks.
# todo test function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>save_path</strong> – path to save to</p></li>
<li><p><strong>cell_ids</strong> – IDs of Suite2p ROI masks to show in image (use ‘all’ (default) to plot all ROI masks)</p></li>
</ul>
</dd>
</dl>
</dd></dl>
</dd></dl>
<dl class="py class code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.suite2p.Suite2pResultsTrial">
<em class="property">class<span class="w"> </span></em><code class="sig-prename descclassname">imagingplus.processing.suite2p.</code><code class="sig-name descname">Suite2pResultsTrial</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s2pExp</span><span class="p">:</span><span class="w"> </span><span class="n"><a class="reference internal" href="#imagingplus.processing.suite2p.Suite2pExperiment" title="imagingplus.processing.suite2p.Suite2pExperiment">imagingplus.processing.suite2p.Suite2pExperiment</a></span></em>, <em class="sig-param"><span class="n">trial_frames</span><span class="p">:</span><span class="w"> </span><span class="n">tuple</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/processing/suite2p.html#Suite2pResultsTrial"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.suite2p.Suite2pResultsTrial">¶</a></dt>
<dd>
<p>Class to collect and store suite2p processed cellsdata for one trial - out of overall experiment.</p>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.suite2p.Suite2pResultsTrial.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s2pExp</span><span class="p">:</span><span class="w"> </span><span class="n"><a class="reference internal" href="#imagingplus.processing.suite2p.Suite2pExperiment" title="imagingplus.processing.suite2p.Suite2pExperiment">imagingplus.processing.suite2p.Suite2pExperiment</a></span></em>, <em class="sig-param"><span class="n">trial_frames</span><span class="p">:</span><span class="w"> </span><span class="n">tuple</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/processing/suite2p.html#Suite2pResultsTrial.__init__"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.suite2p.Suite2pResultsTrial.__init__">¶</a></dt>
<dd>
<p>Connecting Suite2p results from a specific trial (which spans trial_frames out of the overall Suite2p run) to that trial.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s2pExp</strong> – </p></li>
<li><p><strong>trial_frames</strong> – </p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.suite2p.Suite2pResultsTrial.s2pResultsPath">
<code class="sig-name descname">s2pResultsPath</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.suite2p.Suite2pResultsTrial.s2pResultsPath">¶</a></dt>
<dd>
<p>path where s2p results were loaded from</p>
</dd></dl>
<dl class="py property code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.suite2p.Suite2pResultsTrial.s2pResultExists">
<em class="property">property<span class="w"> </span></em><code class="sig-name descname">s2pResultExists</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.suite2p.Suite2pResultsTrial.s2pResultExists">¶</a></dt>
<dd>
<p>Return true if suite2p results exist for current trial.</p>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.suite2p.Suite2pResultsTrial.makeFrameAverageTiff">
<code class="sig-name descname">makeFrameAverageTiff</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">reg_tif_dir</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em>, <em class="sig-param"><span class="n">frames</span><span class="p">:</span><span class="w"> </span><span class="n">Union<span class="p">[</span>int<span class="p">,</span><span class="w"> </span>list<span class="p">,</span><span class="w"> </span>tuple<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">peri_frames</span><span class="p">:</span><span class="w"> </span><span class="n">int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">100</span></em>, <em class="sig-param"><span class="n">save_dir</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">to_plot</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/processing/suite2p.html#Suite2pResultsTrial.makeFrameAverageTiff"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.suite2p.Suite2pResultsTrial.makeFrameAverageTiff">¶</a></dt>
<dd>
<p>Creates, plots and/or saves an average image of the specified number of peri-key_frames around the given frame from the suite2p registered TIFF file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>reg_tif_dir</strong> – registered tiff directory (from Suite2p results directory)</p></li>
<li><p><strong>frames</strong> – key frames to plot average image</p></li>
<li><p><strong>peri_frames</strong> – number of frames to collect pre- and post- from key frame</p></li>
<li><p><strong>save_dir</strong> – directory to save tiff images to</p></li>
<li><p><strong>to_plot</strong> – if true, show peri-frame average image</p></li>
<li><p><strong>kwargs</strong> – see kwargs under imagingplus.plotting.plotting.plotImg</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>peri-frame averaged array images</p>
</dd>
</dl>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.suite2p.Suite2pResultsTrial.makeDownSampledTiff">
<code class="sig-name descname">makeDownSampledTiff</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">save_path</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em>, <em class="sig-param"><span class="n">group_by</span><span class="p">:</span><span class="w"> </span><span class="n">int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">4</span></em>, <em class="sig-param"><span class="n">reg_tif_folder</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">frameNum</span><span class="p">:</span><span class="w"> </span><span class="n">Union<span class="p">[</span>str<span class="p">,</span><span class="w"> </span>tuple<span class="p">,</span><span class="w"> </span>list<span class="p">,</span><span class="w"> </span>int<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">'all'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/processing/suite2p.html#Suite2pResultsTrial.makeDownSampledTiff"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.suite2p.Suite2pResultsTrial.makeDownSampledTiff">¶</a></dt>
<dd>
<p>Makes downsampled TIFF of current suite2p trial imaging series</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>save_path</strong> – path to save downsampled TIFF.</p></li>
<li><p><strong>group_by</strong> – number of frames to created grouped average output.</p></li>
<li><p><strong>reg_tif_folder</strong> – registered tiff directory</p></li>
<li><p><strong>frameNum</strong> – frame numbers (start and end) to create downsampled tiff for (use ‘all’ (default) to create downsampled tiff for all frames).</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.suite2p.Suite2pResultsTrial.getRegTiffPaths">
<code class="sig-name descname">getRegTiffPaths</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">reg_tif_folder</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">frameNum</span><span class="p">:</span><span class="w"> </span><span class="n">Union<span class="p">[</span>str<span class="p">,</span><span class="w"> </span>int<span class="p">,</span><span class="w"> </span>tuple<span class="p">,</span><span class="w"> </span>list<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">'all'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/processing/suite2p.html#Suite2pResultsTrial.getRegTiffPaths"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.suite2p.Suite2pResultsTrial.getRegTiffPaths">¶</a></dt>
<dd>
<p>Return current imaging trial’s suite2p output registered tiff paths for a certain frame number (default is for all trial frames). note that suite2p uses batched registration and creates batched motion registered tiffs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>reg_tif_folder</strong> – registered tiff directory</p></li>
<li><p><strong>frameNum</strong> – frame numbers (start and end) to create downsampled tiff for (use ‘all’ (default) to create downsampled tiff for all frames).</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.suite2p.Suite2pResultsTrial.getCellsAnnotations">
<code class="sig-name descname">getCellsAnnotations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/processing/suite2p.html#Suite2pResultsTrial.getCellsAnnotations"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.suite2p.Suite2pResultsTrial.getCellsAnnotations">¶</a></dt>
<dd>
<p>Get cell annotations from Suite2p output to use in creating anndata structure.</p>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.suite2p.Suite2pResultsTrial.stitch_s2p_reg_tiff">
<code class="sig-name descname">stitch_s2p_reg_tiff</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">save_path</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">reg_tif_folder</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/processing/suite2p.html#Suite2pResultsTrial.stitch_s2p_reg_tiff"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.suite2p.Suite2pResultsTrial.stitch_s2p_reg_tiff">¶</a></dt>
<dd>
<p>Concatenate suite2p registered tiffs into a single stack.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>save_path</strong> – path to save stack.</p></li>
<li><p><strong>reg_tif_folder</strong> – folder to retrieve suite2p registered tiffs from.</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py property code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.suite2p.Suite2pResultsTrial.cell_coords">
<em class="property">property<span class="w"> </span></em><code class="sig-name descname">cell_coords</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.suite2p.Suite2pResultsTrial.cell_coords">¶</a></dt>
<dd>
<p>Return X and Y coordinates of cells</p>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.suite2p.Suite2pResultsTrial.collectTiffList">
<code class="sig-name descname">collectTiffList</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">curr_trial_frames</span><span class="p">:</span><span class="w"> </span><span class="n">Union<span class="p">[</span>tuple<span class="p">,</span><span class="w"> </span>list<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">reg_tif_folder</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/processing/suite2p.html#Suite2pResultsTrial.collectTiffList"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.suite2p.Suite2pResultsTrial.collectTiffList">¶</a></dt>
<dd>
<p>Collects list of tiffs from registered tiff output folder for current trial of suite2p processed dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>curr_trial_frames</strong> – frame start and end for current trial (relative to total suite2p experiment results).</p></li>
<li><p><strong>reg_tif_folder</strong> – folder to retrieve suite2p registered tiffs from.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of tiffs</p>
</dd>
</dl>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.suite2p.Suite2pResultsTrial.collectSignalFromCoords">
<code class="sig-name descname">collectSignalFromCoords</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">target_coords_masks</span><span class="p">:</span><span class="w"> </span><span class="n">numpy.ndarray</span></em>, <em class="sig-param"><span class="n">reg_tif_folder</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint">numpy.ndarray</span></span><a class="reference internal" href="_modules/imagingplus/processing/suite2p.html#Suite2pResultsTrial.collectSignalFromCoords"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.suite2p.Suite2pResultsTrial.collectSignalFromCoords">¶</a></dt>
<dd>
<p>Collect average fluorescence signal from input coordinates (and their masks).</p>
<p>uses registered tiffs to collect raw traces from provided target masks target areas
:param target_coords_masks: array of masks of coordinates to collect signal from (for each cell).
:param reg_tif_folder: folder to retrieve suite2p registered tiffs from.</p>
</dd></dl>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.processing.suite2p.add_suite2p_results">
<code class="sig-prename descclassname">imagingplus.processing.suite2p.</code><code class="sig-name descname">add_suite2p_results</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">expobj</span></em>, <em class="sig-param"><span class="n">s2p_trials</span><span class="p">:</span><span class="w"> </span><span class="n">Union<span class="p">[</span>list<span class="p">,</span><span class="w"> </span>str<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">'all'</span></em>, <em class="sig-param"><span class="n">s2pResultsPath</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/processing/suite2p.html#add_suite2p_results"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.processing.suite2p.add_suite2p_results">¶</a></dt>
<dd>
<p>todo: probably want to split up the bottom
todo: test moving function to suite2p file.
Wrapper for adding suite2p results to Experiment. Can only be run after adding trials to Experiment.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>expobj</strong> – Experiment object to add suite2p results to</p></li>
<li><p><strong>s2p_trials</strong> – list of trials to use for Suite2p processing/analysis pipeline, default = ‘all’ to use all trials of Experiment</p></li>
<li><p><strong>s2pResultsPath</strong> – optional, if suite2p already run then here provide path existing suite2p results</p></li>
</ul>
</dd>
</dl>
</dd></dl>
</section>
<section id="workflows-alloptical">
<h2>workflows (AllOptical)<a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#workflows-alloptical">¶</a></h2>
<span class="target" id="module-imagingplus.workflows.AllOptical"></span><dl class="py data code-definition">
<dt class="sig sig-object py" id="imagingplus.workflows.AllOptical.prestim_sec">
<code class="sig-prename descclassname">imagingplus.workflows.AllOptical.</code><code class="sig-name descname">prestim_sec</code><em class="property"><span class="p">:</span><span class="w"> </span>float</em><em class="property"><span class="w"> </span><span class="p">=</span><span class="w"> </span>1.0</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.workflows.AllOptical.prestim_sec">¶</a></dt>
<dd>
<p>length of pre stim trace collected (secs)</p>
</dd></dl>
<dl class="py data code-definition">
<dt class="sig sig-object py" id="imagingplus.workflows.AllOptical.poststim_sec">
<code class="sig-prename descclassname">imagingplus.workflows.AllOptical.</code><code class="sig-name descname">poststim_sec</code><em class="property"><span class="p">:</span><span class="w"> </span>float</em><em class="property"><span class="w"> </span><span class="p">=</span><span class="w"> </span>3.0</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.workflows.AllOptical.poststim_sec">¶</a></dt>
<dd>
<p>length of post stim trace collected (secs)</p>
</dd></dl>
<dl class="py data code-definition">
<dt class="sig sig-object py" id="imagingplus.workflows.AllOptical.pre_stim_response_window">
<code class="sig-prename descclassname">imagingplus.workflows.AllOptical.</code><code class="sig-name descname">pre_stim_response_window</code><em class="property"><span class="p">:</span><span class="w"> </span>float</em><em class="property"><span class="w"> </span><span class="p">=</span><span class="w"> </span>0.5</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.workflows.AllOptical.pre_stim_response_window">¶</a></dt>
<dd>
<p>msec)</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>time window for collecting pre-stim measurement (units</p>
</dd>
</dl>
</dd></dl>
<dl class="py data code-definition">
<dt class="sig sig-object py" id="imagingplus.workflows.AllOptical.post_stim_response_window">
<code class="sig-prename descclassname">imagingplus.workflows.AllOptical.</code><code class="sig-name descname">post_stim_response_window</code><em class="property"><span class="p">:</span><span class="w"> </span>float</em><em class="property"><span class="w"> </span><span class="p">=</span><span class="w"> </span>0.5</em><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.workflows.AllOptical.post_stim_response_window">¶</a></dt>
<dd>
<p>msec)</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>time window for collecting post-stim measurement (units</p>
</dd>
</dl>
</dd></dl>
<dl class="py class code-definition">
<dt class="sig sig-object py" id="imagingplus.workflows.AllOptical.AllOpticalTrial">
<em class="property">class<span class="w"> </span></em><code class="sig-prename descclassname">imagingplus.workflows.AllOptical.</code><code class="sig-name descname">AllOpticalTrial</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">naparm_path</span></em>, <em class="sig-param"><span class="n">dataPath</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em>, <em class="sig-param"><span class="n">saveDir</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em>, <em class="sig-param"><span class="n">date</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em>, <em class="sig-param"><span class="n">trialID</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em>, <em class="sig-param"><span class="n">expID</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em>, <em class="sig-param"><span class="n">expGroup</span><span class="p">:</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">comment</span><span class="p">:</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">imparams</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span><a class="reference internal" href="#imagingplus.main.subcore.ImagingMetadata" title="imagingplus.main.subcore.ImagingMetadata">imagingplus.main.subcore.ImagingMetadata</a><span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cells</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span><a class="reference internal" href="#imagingplus.main.subcore.CellAnnotations" title="imagingplus.main.subcore.CellAnnotations">imagingplus.main.subcore.CellAnnotations</a><span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">tmdata</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span><a class="reference internal" href="#imagingplus.processing.paq.PaqData" title="imagingplus.processing.paq.PaqData">imagingplus.processing.paq.PaqData</a><span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/workflows/AllOptical.html#AllOpticalTrial"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.workflows.AllOptical.AllOpticalTrial">¶</a></dt>
<dd>
<p>All Optical Experimental Data Analysis Workflow.</p>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.workflows.AllOptical.AllOpticalTrial.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">naparm_path</span></em>, <em class="sig-param"><span class="n">dataPath</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em>, <em class="sig-param"><span class="n">saveDir</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em>, <em class="sig-param"><span class="n">date</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em>, <em class="sig-param"><span class="n">trialID</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em>, <em class="sig-param"><span class="n">expID</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em>, <em class="sig-param"><span class="n">expGroup</span><span class="p">:</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">comment</span><span class="p">:</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">imparams</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span><a class="reference internal" href="#imagingplus.main.subcore.ImagingMetadata" title="imagingplus.main.subcore.ImagingMetadata">imagingplus.main.subcore.ImagingMetadata</a><span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cells</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span><a class="reference internal" href="#imagingplus.main.subcore.CellAnnotations" title="imagingplus.main.subcore.CellAnnotations">imagingplus.main.subcore.CellAnnotations</a><span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">tmdata</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span><a class="reference internal" href="#imagingplus.processing.paq.PaqData" title="imagingplus.processing.paq.PaqData">imagingplus.processing.paq.PaqData</a><span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/workflows/AllOptical.html#AllOpticalTrial.__init__"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.workflows.AllOptical.AllOpticalTrial.__init__">¶</a></dt>
<dd>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>metainfo</strong> – TypedDict containing meta-information field needed for this experiment. Please see TwoPhotonImagingMetainfo for type hints on accepted keys.</p></li>
<li><p><strong>paq_options</strong> – TypedDict containing meta-information about .paq file associated with current trial</p></li>
<li><p><strong>naparm_path</strong> – path to folder containing photostimulation setup built by NAPARM</p></li>
<li><p><strong>analysis_save_path</strong> – path of where to save the experiment analysis object</p></li>
<li><p><strong>microscope</strong> – name of microscope used to record imaging (options: “Bruker” (default), “other”)</p></li>
<li><p><strong>prestim_sec</strong> – pre-photostimulation timeperiod for collecting photostimulation timed signals</p></li>
<li><p><strong>poststim_sec</strong> – post-photostimulation timeperiod for collecting photostimulation timed signals</p></li>
<li><p><strong>pre_stim_response_window</strong> – pre-photostimulation time window for measurement of photostimulation evoked responses</p></li>
<li><p><strong>post_stim_response_window</strong> – post-photostimulation time window for measurement of photostimulation evoked responses</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.workflows.AllOptical.AllOpticalTrial.wilcoxons">
<code class="sig-name descname">wilcoxons</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.workflows.AllOptical.AllOpticalTrial.wilcoxons">¶</a></dt>
<dd>
</dd></dl>
<dl class="py attribute code-definition">
<dt class="sig sig-object py" id="imagingplus.workflows.AllOptical.AllOpticalTrial.sig_units">
<code class="sig-name descname">sig_units</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.workflows.AllOptical.AllOpticalTrial.sig_units">¶</a></dt>
<dd>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.workflows.AllOptical.AllOpticalTrial.AllOpticalTrialfromImagingTrial">
<em class="property">classmethod<span class="w"> </span></em><code class="sig-name descname">AllOpticalTrialfromImagingTrial</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">naparm_path</span></em>, <em class="sig-param"><span class="n">imaging_trial</span><span class="p">:</span><span class="w"> </span><span class="n"><a class="reference internal" href="#imagingplus.main.core.ImagingTrial" title="imagingplus.main.core.ImagingTrial">imagingplus.main.core.ImagingTrial</a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/workflows/AllOptical.html#AllOpticalTrial.AllOpticalTrialfromImagingTrial"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.workflows.AllOptical.AllOpticalTrial.AllOpticalTrialfromImagingTrial">¶</a></dt>
<dd>
<p>Alternative constructor for AllOpticalTrial.</p>
<p>Creates an all optical trial from an existing imaging trial.
TODO add parameters
:param naparm_path:
:param imaging_trial:
:return:</p>
</dd></dl>
<dl class="py property code-definition">
<dt class="sig sig-object py" id="imagingplus.workflows.AllOptical.AllOpticalTrial.twopstim_path">
<em class="property">property<span class="w"> </span></em><code class="sig-name descname">twopstim_path</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.workflows.AllOptical.AllOpticalTrial.twopstim_path">¶</a></dt>
<dd>
<p>path to folder containing photostimulation protocols output by NAPARM
TODO add parameters
:return:</p>
</dd></dl>
<dl class="py property code-definition">
<dt class="sig sig-object py" id="imagingplus.workflows.AllOptical.AllOpticalTrial.prestim_sec">
<em class="property">property<span class="w"> </span></em><code class="sig-name descname">prestim_sec</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.workflows.AllOptical.AllOpticalTrial.prestim_sec">¶</a></dt>
<dd>
<p>length of pre stim trace collected (secs)
TODO add parameters
:return:</p>
</dd></dl>
<dl class="py property code-definition">
<dt class="sig sig-object py" id="imagingplus.workflows.AllOptical.AllOpticalTrial.poststim_sec">
<em class="property">property<span class="w"> </span></em><code class="sig-name descname">poststim_sec</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.workflows.AllOptical.AllOpticalTrial.poststim_sec">¶</a></dt>
<dd>
<p>length of post stim trace collected (secs)
TODO add parameters
:return:</p>
</dd></dl>
<dl class="py property code-definition">
<dt class="sig sig-object py" id="imagingplus.workflows.AllOptical.AllOpticalTrial.prestim_response_window">
<em class="property">property<span class="w"> </span></em><code class="sig-name descname">prestim_response_window</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.workflows.AllOptical.AllOpticalTrial.prestim_response_window">¶</a></dt>
<dd>
<p>msec)
TODO add parameters
:return:</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>time window for collecting pre-stim measurement (units</p>
</dd>
</dl>
</dd></dl>
<dl class="py property code-definition">
<dt class="sig sig-object py" id="imagingplus.workflows.AllOptical.AllOpticalTrial.prestim_response_frames_window">
<em class="property">property<span class="w"> </span></em><code class="sig-name descname">prestim_response_frames_window</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.workflows.AllOptical.AllOpticalTrial.prestim_response_frames_window">¶</a></dt>
<dd>
<p>frames)
TODO add parameters
:return:</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>num frames for measuring Flu trace before each photostimulation trial during photostim response measurement (units</p>
</dd>
</dl>
</dd></dl>
<dl class="py property code-definition">
<dt class="sig sig-object py" id="imagingplus.workflows.AllOptical.AllOpticalTrial.poststim_response_window">
<em class="property">property<span class="w"> </span></em><code class="sig-name descname">poststim_response_window</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.workflows.AllOptical.AllOpticalTrial.poststim_response_window">¶</a></dt>
<dd>
<p>msec)
TODO add parameters
:return:</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>time window for collecting post-stim measurement (units</p>
</dd>
</dl>
</dd></dl>
<dl class="py property code-definition">
<dt class="sig sig-object py" id="imagingplus.workflows.AllOptical.AllOpticalTrial.poststim_response_frames_window">
<em class="property">property<span class="w"> </span></em><code class="sig-name descname">poststim_response_frames_window</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.workflows.AllOptical.AllOpticalTrial.poststim_response_frames_window">¶</a></dt>
<dd>
<p>frames)
TODO add parameters
:return:</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>num frames for measuring Flu response after each photostimulation trial during photostim response measurement (units</p>
</dd>
</dl>
</dd></dl>
<dl class="py property code-definition">
<dt class="sig sig-object py" id="imagingplus.workflows.AllOptical.AllOpticalTrial.prestim_frames">
<em class="property">property<span class="w"> </span></em><code class="sig-name descname">prestim_frames</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.workflows.AllOptical.AllOpticalTrial.prestim_frames">¶</a></dt>
<dd>
<p>frames)
TODO add parameters
:return:</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>num frames for collecting Flu trace after each photostimulation trial (units</p>
</dd>
</dl>
</dd></dl>
<dl class="py property code-definition">
<dt class="sig sig-object py" id="imagingplus.workflows.AllOptical.AllOpticalTrial.poststim_frames">
<em class="property">property<span class="w"> </span></em><code class="sig-name descname">poststim_frames</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.workflows.AllOptical.AllOpticalTrial.poststim_frames">¶</a></dt>
<dd>
<p>frames)
TODO add parameters
:return:</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>num frames for collecting Flu trace after each photostimulation trial (units</p>
</dd>
</dl>
</dd></dl>
<dl class="py property code-definition">
<dt class="sig sig-object py" id="imagingplus.workflows.AllOptical.AllOpticalTrial.n_stims">
<em class="property">property<span class="w"> </span></em><code class="sig-name descname">n_stims</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.workflows.AllOptical.AllOpticalTrial.n_stims">¶</a></dt>
<dd>
<p>number of photostimulation trials
TODO add parameters
:return:</p>
</dd></dl>
<dl class="py property code-definition">
<dt class="sig sig-object py" id="imagingplus.workflows.AllOptical.AllOpticalTrial.stim_start_frames">
<em class="property">property<span class="w"> </span></em><code class="sig-name descname">stim_start_frames</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.workflows.AllOptical.AllOpticalTrial.stim_start_frames">¶</a></dt>
<dd>
<p>Imaging frames corresponding to start of photostimulation trials.
TODO add parameters
:return:</p>
</dd></dl>
<dl class="py property code-definition">
<dt class="sig sig-object py" id="imagingplus.workflows.AllOptical.AllOpticalTrial.photostim_frames">
<em class="property">property<span class="w"> </span></em><code class="sig-name descname">photostim_frames</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.workflows.AllOptical.AllOpticalTrial.photostim_frames">¶</a></dt>
<dd>
<p>Imaging frames during photostimulation trials.
TODO add parameters
:return:</p>
</dd></dl>
<dl class="py property code-definition">
<dt class="sig sig-object py" id="imagingplus.workflows.AllOptical.AllOpticalTrial.stim_duration_frames">
<em class="property">property<span class="w"> </span></em><code class="sig-name descname">stim_duration_frames</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.workflows.AllOptical.AllOpticalTrial.stim_duration_frames">¶</a></dt>
<dd>
<p>Duration of photostimulation as number of frames.
Note: Removing 1 more frame than the stim duration, as the stim isn’t perfectly aligned with the start of the imaging frame
TODO add parameters
:return:</p>
</dd></dl>
<dl class="py property code-definition">
<dt class="sig sig-object py" id="imagingplus.workflows.AllOptical.AllOpticalTrial.prestim_test_slice">
<em class="property">property<span class="w"> </span></em><code class="sig-name descname">prestim_test_slice</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.workflows.AllOptical.AllOpticalTrial.prestim_test_slice">¶</a></dt>
<dd>
<p>slice representing prestim response frames
TODO add parameters
:return:</p>
</dd></dl>
<dl class="py property code-definition">
<dt class="sig sig-object py" id="imagingplus.workflows.AllOptical.AllOpticalTrial.poststim_test_slice">
<em class="property">property<span class="w"> </span></em><code class="sig-name descname">poststim_test_slice</code><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.workflows.AllOptical.AllOpticalTrial.poststim_test_slice">¶</a></dt>
<dd>
<p>slice representing poststim response frames
TODO add parameters
:return:</p>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.workflows.AllOptical.AllOpticalTrial.photostimProcessing">
<code class="sig-name descname">photostimProcessing</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">naparm_path</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/workflows/AllOptical.html#AllOpticalTrial.photostimProcessing"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.workflows.AllOptical.AllOpticalTrial.photostimProcessing">¶</a></dt>
<dd>
<p>Processing alloptical trial photostimulation protocol.
- parse NAPARM protocol and SLM Targets information under .twopstim
- collect stimulation timing synchronized to imaging cellsdata frame timings
TODO add parameters
:param naparm_path:
:return:</p>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.workflows.AllOptical.AllOpticalTrial.getTargetsStimTraceSnippets">
<code class="sig-name descname">getTargetsStimTraceSnippets</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">targets_idx</span><span class="p">:</span><span class="w"> </span><span class="n">Union<span class="p">[</span>list<span class="p">,</span><span class="w"> </span>str<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">'all'</span></em>, <em class="sig-param"><span class="n">pre_stim</span><span class="p">:</span><span class="w"> </span><span class="n">Union<span class="p">[</span>float<span class="p">,</span><span class="w"> </span>int<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">0.5</span></em>, <em class="sig-param"><span class="n">post_stim</span><span class="p">:</span><span class="w"> </span><span class="n">Union<span class="p">[</span>float<span class="p">,</span><span class="w"> </span>int<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">4.0</span></em>, <em class="sig-param"><span class="n">stims</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>list<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/workflows/AllOptical.html#AllOpticalTrial.getTargetsStimTraceSnippets"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.workflows.AllOptical.AllOpticalTrial.getTargetsStimTraceSnippets">¶</a></dt>
<dd>
<p>Collect photostimulation timed snippets of signal from selected targets.</p>
<p>TODO add parameters
:param stims:
:param targets_idx: integer for the index of target cell to process
:param subselect_cells: ls of cells to subset from the overall set of traces (use in place of targets_idx if desired)
:param pre_stim: number of frames to use as pre-stim
:param post_stim: number of frames to use as post-stim
:param filter_sz: whether to filter out stims that are occuring seizures
:return: lists of individual targets dFF traces, and averaged targets dFF over all stims for each target</p>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.workflows.AllOptical.AllOpticalTrial.findTargetedCells">
<code class="sig-name descname">findTargetedCells</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">plot</span><span class="p">:</span><span class="w"> </span><span class="n">bool</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/workflows/AllOptical.html#AllOpticalTrial.findTargetedCells"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.workflows.AllOptical.AllOpticalTrial.findTargetedCells">¶</a></dt>
<dd>
<p>finding s2p cell ROIs that were also SLM targets (or more specifically within the target areas as specified by _findTargetAreas - include 15um radius from center coordinate of spiral)
Make a binary mask of the targets and multiply by an image of the cells
to find cells that were targeted</p>
<p>— LAST UPDATED NOV 6 2021 - copied over from Vape —</p>
<p>TODO add parameters
:param plot:</p>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.workflows.AllOptical.AllOpticalTrial.calculatePhotoresponses">
<code class="sig-name descname">calculatePhotoresponses</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">snippets</span><span class="p">:</span><span class="w"> </span><span class="n">numpy.ndarray</span></em>, <em class="sig-param"><span class="n">stims_to_use</span><span class="p">:</span><span class="w"> </span><span class="n">Union<span class="p">[</span>list<span class="p">,</span><span class="w"> </span>str<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">'all'</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint">pandas.core.frame.DataFrame</span></span><a class="reference internal" href="_modules/imagingplus/workflows/AllOptical.html#AllOpticalTrial.calculatePhotoresponses"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.workflows.AllOptical.AllOpticalTrial.calculatePhotoresponses">¶</a></dt>
<dd>
<p>Calculations of responses (post-stim - pre-stim) to photostimulation of SLM Targets of the provided snippets array.</p>
<p>TODO add parameters
:param snippets:
:param stims_to_use: ls of stims to retrieve photostim trial dFF responses
:return:</p>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.workflows.AllOptical.AllOpticalTrial.photostimProcessingAllCells">
<code class="sig-name descname">photostimProcessingAllCells</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">plane</span><span class="p">:</span><span class="w"> </span><span class="n">int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/workflows/AllOptical.html#AllOpticalTrial.photostimProcessingAllCells"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.workflows.AllOptical.AllOpticalTrial.photostimProcessingAllCells">¶</a></dt>
<dd>
<p>Take dfof trace for entire timeseries and break it up in to individual trials, calculate
the mean amplitudes of response and statistical significance across all trials</p>
<p>TODO add parameters
Inputs:
:param plane:             - imaging plane n</p>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.workflows.AllOptical.AllOpticalTrial.statisticalProcessingAllCells">
<code class="sig-name descname">statisticalProcessingAllCells</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/workflows/AllOptical.html#AllOpticalTrial.statisticalProcessingAllCells"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.workflows.AllOptical.AllOpticalTrial.statisticalProcessingAllCells">¶</a></dt>
<dd>
<p>Runs statistical processing on photostim response arrays</p>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.workflows.AllOptical.AllOpticalTrial.staSignificance">
<code class="sig-name descname">staSignificance</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">test</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/workflows/AllOptical.html#AllOpticalTrial.staSignificance"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.workflows.AllOptical.AllOpticalTrial.staSignificance">¶</a></dt>
<dd>
<p>TODO docstring
TODO add parameters
:param test:</p>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.workflows.AllOptical.AllOpticalTrial.singleTrialSignificance">
<code class="sig-name descname">singleTrialSignificance</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/workflows/AllOptical.html#AllOpticalTrial.singleTrialSignificance"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.workflows.AllOptical.AllOpticalTrial.singleTrialSignificance">¶</a></dt>
<dd>
<p>TODO docstring
TODO fill explanation</p>
</dd></dl>
<dl class="py method code-definition">
<dt class="sig sig-object py" id="imagingplus.workflows.AllOptical.AllOpticalTrial.run_stamm_nogui">
<code class="sig-name descname">run_stamm_nogui</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">numDiffStims</span></em>, <em class="sig-param"><span class="n">startOnStim</span></em>, <em class="sig-param"><span class="n">everyXStims</span></em>, <em class="sig-param"><span class="n">preSeconds</span><span class="o">=</span><span class="default_value">0.75</span></em>, <em class="sig-param"><span class="n">postSeconds</span><span class="o">=</span><span class="default_value">1.25</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/workflows/AllOptical.html#AllOpticalTrial.run_stamm_nogui"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.workflows.AllOptical.AllOpticalTrial.run_stamm_nogui">¶</a></dt>
<dd>
<p>run STAmoviemaker for current trial
TODO add parameters
:param numDiffStims:
:param startOnStim:
:param everyXStims:
:param preSeconds:
:param postSeconds:</p>
</dd></dl>
</dd></dl>
</section>
<section id="module-imagingplus.utils.io">
<span id="utils"></span><h2>utils<a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#module-imagingplus.utils.io">¶</a></h2>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.utils.io.import_obj">
<code class="sig-prename descclassname">imagingplus.utils.io.</code><code class="sig-name descname">import_obj</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pkl_path</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/utils/io.html#import_obj"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.utils.io.import_obj">¶</a></dt>
<dd>
<p>Imports objects that have been saved as .pkl files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pkl_path</strong> – path to .pkl file to load object from.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>object loaded from .pkl file</p>
</dd>
</dl>
<p>Example:
&gt;&gt;&gt; import imagingplus as pkg
&gt;&gt;&gt; trialobj = pkg.import_obj(pkl_path=’/home/pshah/Documents/code/imagingplus/tests/2020-12-19_t-013.pkl’)</p>
</dd></dl>
<span class="target" id="module-imagingplus.utils.utils"></span><dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.utils.utils.define_term">
<code class="sig-prename descclassname">imagingplus.utils.utils.</code><code class="sig-name descname">define_term</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">term</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/utils/utils.html#define_term"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.utils.utils.define_term">¶</a></dt>
<dd>
<p>Search terms dictionary and retrieve definition of input term if found.
:param term: term to search for definition in dictionary.</p>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.utils.utils.print_size_of">
<code class="sig-prename descclassname">imagingplus.utils.utils.</code><code class="sig-name descname">print_size_of</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">var</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/utils/utils.html#print_size_of"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.utils.utils.print_size_of">¶</a></dt>
<dd>
<p>Print size of input variable in current memory.
:param var: input variable</p>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.utils.utils.print_size_vars">
<code class="sig-prename descclassname">imagingplus.utils.utils.</code><code class="sig-name descname">print_size_vars</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/utils/utils.html#print_size_vars"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.utils.utils.print_size_vars">¶</a></dt>
<dd>
<p>Print size of all current variables in memory.</p>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.utils.utils.save_figure">
<code class="sig-prename descclassname">imagingplus.utils.utils.</code><code class="sig-name descname">save_figure</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fig</span><span class="p">:</span><span class="w"> </span><span class="n">matplotlib.figure.Figure</span></em>, <em class="sig-param"><span class="n">save_path_full</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/utils/utils.html#save_figure"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.utils.utils.save_figure">¶</a></dt>
<dd>
<p>Save a matplotlib generated figure to the path provided. Also, makes necessary directories in the path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fig</strong> – matplotlib generated figure object</p></li>
<li><p><strong>save_path_full</strong> – path to save figure to.</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.utils.utils.save_to_csv">
<code class="sig-prename descclassname">imagingplus.utils.utils.</code><code class="sig-name descname">save_to_csv</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span><span class="p">:</span><span class="w"> </span><span class="n">pandas.core.frame.DataFrame</span></em>, <em class="sig-param"><span class="n">savepath</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>pathlib.Path<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/utils/utils.html#save_to_csv"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.utils.utils.save_to_csv">¶</a></dt>
<dd>
<p>Save pandas dataframe to csv at savepath.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> – dataframe to save.</p></li>
<li><p><strong>savepath</strong> – path to save to.</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.utils.utils.filterDfBoolCol">
<code class="sig-prename descclassname">imagingplus.utils.utils.</code><code class="sig-name descname">filterDfBoolCol</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">true_cols</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">false_cols</span><span class="o">=</span><span class="default_value">[]</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/utils/utils.html#filterDfBoolCol"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.utils.utils.filterDfBoolCol">¶</a></dt>
<dd>
<p>Filter indices in a pandas dataframe using logical operations
on columns with Boolean values</p>
<blockquote>
<div><dl class="field-list simple">
<dt class="field-odd">param df</dt>
<dd class="field-odd"><p>– dataframe</p>
</dd>
<dt class="field-even">param true_cols</dt>
<dd class="field-even"><p>– columns where True should be filtered</p>
</dd>
<dt class="field-odd">param false_cols</dt>
<dd class="field-odd"><p>– columns where False should be filtered</p>
</dd>
</dl>
</div></blockquote>
<dl class="simple">
<dt>Outputs:</dt><dd><p>indices of the dataframe where the logical operation is true</p>
</dd>
</dl>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.utils.utils.findClosest">
<code class="sig-prename descclassname">imagingplus.utils.utils.</code><code class="sig-name descname">findClosest</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">arr</span><span class="p">:</span><span class="w"> </span><span class="n">Union<span class="p">[</span>numpy.ndarray<span class="p">,</span><span class="w"> </span>list<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">input</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/utils/utils.html#findClosest"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.utils.utils.findClosest">¶</a></dt>
<dd>
<p>find the closest value in a list or 1-D array, to the given input</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arr</strong> – list or array of values</p></li>
<li><p><strong>input</strong> – key input to find closest value with in <cite>arr</cite></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>value of the closest item from <cite>arr</cite>, index of closest item</p>
</dd>
</dl>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.utils.utils.moving_average">
<code class="sig-prename descclassname">imagingplus.utils.utils.</code><code class="sig-name descname">moving_average</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">arr</span><span class="p">:</span><span class="w"> </span><span class="n">Union<span class="p">[</span>list<span class="p">,</span><span class="w"> </span>numpy.ndarray<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">n</span><span class="o">=</span><span class="default_value">4</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/utils/utils.html#moving_average"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.utils.utils.moving_average">¶</a></dt>
<dd>
<p>Return moving average over sliding window for an array</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arr</strong> – input array</p></li>
<li><p><strong>n</strong> – length of sliding window</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>array with moving average sliding window applied</p>
</dd>
</dl>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.utils.utils.path_finder">
<code class="sig-prename descclassname">imagingplus.utils.utils.</code><code class="sig-name descname">path_finder</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">umbrella</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="n">is_dir</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/utils/utils.html#path_finder"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.utils.utils.path_finder">¶</a></dt>
<dd>
<p>Returns the path to the single item in the umbrella folder containing the string names in each arg</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>umbrella</strong> – parent directory to search inside</p></li>
<li><p><strong>args</strong> – key string names to search in umbrella directory</p></li>
<li><p><strong>is_dir</strong> – True if args is a collection of directories</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.utils.utils.points_in_circle_np">
<code class="sig-prename descclassname">imagingplus.utils.utils.</code><code class="sig-name descname">points_in_circle_np</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">radius</span></em>, <em class="sig-param"><span class="n">x0</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">y0</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/utils/utils.html#points_in_circle_np"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.utils.utils.points_in_circle_np">¶</a></dt>
<dd>
<p>Return an array of 2-D Euclidean coordinates for a circle centered on x0, y0 with the input radius.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>radius</strong> – radius of circle to be calculated</p></li>
<li><p><strong>x0</strong> – x-center of circle</p></li>
<li><p><strong>y0</strong> – y-center of circle</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.utils.utils.threshold_detect">
<code class="sig-prename descclassname">imagingplus.utils.utils.</code><code class="sig-name descname">threshold_detect</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">signal</span><span class="p">:</span><span class="w"> </span><span class="n">Union<span class="p">[</span>numpy.ndarray<span class="p">,</span><span class="w"> </span>list<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">threshold</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/utils/utils.html#threshold_detect"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.utils.utils.threshold_detect">¶</a></dt>
<dd>
<p>Returns indexes where the input signal reaches above threshold.</p>
<p>lloyd russell</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>signal</strong> – input signal</p></li>
<li><p><strong>threshold</strong> – threhsold value</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.utils.utils.listdirFullpath">
<code class="sig-prename descclassname">imagingplus.utils.utils.</code><code class="sig-name descname">listdirFullpath</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">directory</span><span class="p">:</span><span class="w"> </span><span class="n">str</span></em>, <em class="sig-param"><span class="n">string</span><span class="p">:</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/utils/utils.html#listdirFullpath"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.utils.utils.listdirFullpath">¶</a></dt>
<dd>
<p>Return full path of all files in directory containing specified string</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>directory</strong> – path to directory</p></li>
<li><p><strong>string</strong> – sequence to be found in file name</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>string</p>
</dd>
</dl>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.utils.utils.read_fiji">
<code class="sig-prename descclassname">imagingplus.utils.utils.</code><code class="sig-name descname">read_fiji</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">csv_path</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint">numpy.ndarray</span></span><a class="reference internal" href="_modules/imagingplus/utils/utils.html#read_fiji"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.utils.utils.read_fiji">¶</a></dt>
<dd>
<p>Reads the csv file saved through plot z axis profile in Fiji</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>csv_path</strong> – path to input csv file</p>
</dd>
</dl>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.utils.utils.intersect">
<code class="sig-prename descclassname">imagingplus.utils.utils.</code><code class="sig-name descname">intersect</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">lst1</span></em>, <em class="sig-param"><span class="n">lst2</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint">list</span></span><a class="reference internal" href="_modules/imagingplus/utils/utils.html#intersect"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.utils.utils.intersect">¶</a></dt>
<dd>
<p>Find intersection of two input lists.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lst1</strong> – list 1</p></li>
<li><p><strong>lst2</strong> – list 2</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.utils.utils.calc_distance_2points">
<code class="sig-prename descclassname">imagingplus.utils.utils.</code><code class="sig-name descname">calc_distance_2points</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">p1</span><span class="p">:</span><span class="w"> </span><span class="n">tuple</span></em>, <em class="sig-param"><span class="n">p2</span><span class="p">:</span><span class="w"> </span><span class="n">tuple</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/utils/utils.html#calc_distance_2points"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.utils.utils.calc_distance_2points">¶</a></dt>
<dd>
<p>Uses the hypothenus method to calculate the straight line distance between two given points on a 2d cartesian plane.
:param p1: point 1
:param p2: point 2
:return:</p>
</dd></dl>
<span class="target" id="module-imagingplus.utils.PrairieLink"></span><dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.utils.PrairieLink.ReadRawFile">
<code class="sig-prename descclassname">imagingplus.utils.PrairieLink.</code><code class="sig-name descname">ReadRawFile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">movie_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">start</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">stop</span><span class="o">=</span><span class="default_value">inf</span></em>, <em class="sig-param"><span class="n">num_frames</span><span class="o">=</span><span class="default_value">inf</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint">numpy.ndarray</span></span><a class="reference internal" href="_modules/imagingplus/utils/PrairieLink.html#ReadRawFile"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.utils.PrairieLink.ReadRawFile">¶</a></dt>
<dd>
<p>Read raw file created by PrairieView into array.</p>
<dl class="simple">
<dt>movie_path<span class="classifier">string, optional</span></dt><dd><p>full path to <a href="#id1"><span class="problematic" id="id2">*</span></a>.bin file, if none provided dialog box will open</p>
</dd>
<dt>start<span class="classifier">int, optional</span></dt><dd><p>the first frame to begin reading from</p>
</dd>
<dt>stop<span class="classifier">int, optional</span></dt><dd><p>the frame to stop reading at</p>
</dd>
<dt>num_frames<span class="classifier">int, optional</span></dt><dd><p>the total number of frames to read</p>
</dd>
<dt>verbose<span class="classifier">bool, optional</span></dt><dd><p>choose whether to display output progress and stats</p>
</dd>
</dl>
<dl class="simple">
<dt>cellsdata<span class="classifier">np.ndarray</span></dt><dd><p>frames x rows x cols array (dtype=np.uint16)</p>
</dd>
</dl>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.utils.PrairieLink.WriteRawFile">
<code class="sig-prename descclassname">imagingplus.utils.PrairieLink.</code><code class="sig-name descname">WriteRawFile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">file_name</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/utils/PrairieLink.html#WriteRawFile"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.utils.PrairieLink.WriteRawFile">¶</a></dt>
<dd>
<p>TODO - need to ask Jimmy/Rob
:param data: unknown
:param file_name: file path to save</p>
</dd></dl>
<span class="target" id="module-imagingplus.utils.images"></span><dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.utils.images.ZProfile">
<code class="sig-prename descclassname">imagingplus.utils.images.</code><code class="sig-name descname">ZProfile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">stack</span><span class="p">:</span><span class="w"> </span><span class="n">Union<span class="p">[</span>str<span class="p">,</span><span class="w"> </span>numpy.ndarray<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">area_center_coords</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>tuple<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">area_size</span><span class="p">:</span><span class="w"> </span><span class="n">int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">- 1</span></em>, <em class="sig-param"><span class="n">plot_trace</span><span class="p">:</span><span class="w"> </span><span class="n">bool</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">plot_frame</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>int<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">vasc_image</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>numpy.array<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/utils/images.html#ZProfile"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.utils.images.ZProfile">¶</a></dt>
<dd>
<p>Plot a z-profile of a stack, averaged over space inside a square area.
by S. Armstrong.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stack</strong> – array of the TIFF stack or a tiff path from which it is read in</p></li>
<li><p><strong>area_center_coords</strong> – coordinates of pixel at center of box (x,y)</p></li>
<li><p><strong>area_size</strong> – int, length and width of the square in pixels</p></li>
<li><p><strong>plot_frame</strong> – plot area boundaries on this frame from stack</p></li>
<li><p><strong>vasc_image</strong> – optionally include a vasculature image tif of the correct dimensions to plot the coordinates on.</p></li>
<li><p><strong>plot_trace</strong> – bool to create plot of z profile signal</p></li>
<li><p><strong>kwargs</strong> – ax_trace: matplotlib axis object for plotting z-profile signal
ax_ref: matplotlib axis object for plotting reference image</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>z-profile trace signal</p>
</dd>
</dl>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.utils.images.subselect_tiff">
<code class="sig-prename descclassname">imagingplus.utils.images.</code><code class="sig-name descname">subselect_tiff</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tiff_path</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">tiff_stack</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>numpy.array<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">select_frames</span><span class="p">:</span><span class="w"> </span><span class="n">tuple</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">(0, 0)</span></em>, <em class="sig-param"><span class="n">save_as</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/utils/images.html#subselect_tiff"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.utils.images.subselect_tiff">¶</a></dt>
<dd>
<p>Crop multi-stack tiff to requested frames (<cite>select_frames</cite>).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tiff_path</strong> – </p></li>
<li><p><strong>tiff_stack</strong> – </p></li>
<li><p><strong>select_frames</strong> – </p></li>
<li><p><strong>save_as</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.utils.images.convert_to_8bit">
<code class="sig-prename descclassname">imagingplus.utils.images.</code><code class="sig-name descname">convert_to_8bit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">img</span><span class="p">:</span><span class="w"> </span><span class="n">numpy.ndarray</span></em>, <em class="sig-param"><span class="n">output_min</span><span class="p">:</span><span class="w"> </span><span class="n">int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">output_max</span><span class="p">:</span><span class="w"> </span><span class="n">int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">255</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint">numpy.ndarray</span></span><a class="reference internal" href="_modules/imagingplus/utils/images.html#convert_to_8bit"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.utils.images.convert_to_8bit">¶</a></dt>
<dd>
<p>Convert input image to 8-bit depth. Optionally, set low/high thresholds for output image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>img</strong> – input image</p></li>
<li><p><strong>output_min</strong> – minimum threshold for pixel intensity (at 8-bit depth)</p></li>
<li><p><strong>output_max</strong> – maximum threshold for pixel intensity (at 8-bit depth)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>image converted to 8-bit depth</p>
</dd>
</dl>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.utils.images.fourierImage">
<code class="sig-prename descclassname">imagingplus.utils.images.</code><code class="sig-name descname">fourierImage</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">img</span><span class="p">:</span><span class="w"> </span><span class="n">numpy.ndarray</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/utils/images.html#fourierImage"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.utils.images.fourierImage">¶</a></dt>
<dd>
<p>Fast-fourier transform on input image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>img</strong> – input image</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>numpy’s fft transform</p>
</dd>
</dl>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.utils.images.highPass">
<code class="sig-prename descclassname">imagingplus.utils.images.</code><code class="sig-name descname">highPass</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">img</span><span class="p">:</span><span class="w"> </span><span class="n">numpy.ndarray</span></em>, <em class="sig-param"><span class="n">fshift</span></em>, <em class="sig-param"><span class="n">filter</span><span class="o">=</span><span class="default_value">30</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/utils/images.html#highPass"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.utils.images.highPass">¶</a></dt>
<dd>
<p>high pass filtering of image</p>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.utils.images.z_score_img">
<code class="sig-prename descclassname">imagingplus.utils.images.</code><code class="sig-name descname">z_score_img</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">key_img</span><span class="p">:</span><span class="w"> </span><span class="n">numpy.ndarray</span></em>, <em class="sig-param"><span class="n">mean_img</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>numpy.ndarray<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">std_img</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>numpy.ndarray<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">normal_img_stack</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>numpy.ndarray<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">plot</span><span class="p">:</span><span class="w"> </span><span class="n">bool</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/utils/images.html#z_score_img"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.utils.images.z_score_img">¶</a></dt>
<dd>
<p>z-score normalization of the input key_img to the input mean img and std img, or to image stack provided in normal_img_stack.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key_img</strong> – input image</p></li>
<li><p><strong>mean_img</strong> – input mean image</p></li>
<li><p><strong>std_img</strong> – input std image</p></li>
<li><p><strong>normal_img_stack</strong> – input stack of images to normalize the key image to.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.utils.images.makeFrameAverageTiff">
<code class="sig-prename descclassname">imagingplus.utils.images.</code><code class="sig-name descname">makeFrameAverageTiff</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">frames</span><span class="p">:</span><span class="w"> </span><span class="n">Union<span class="p">[</span>int<span class="p">,</span><span class="w"> </span>list<span class="p">,</span><span class="w"> </span>tuple<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">tiff_path</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">stack</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>numpy.ndarray<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">peri_frames</span><span class="p">:</span><span class="w"> </span><span class="n">int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">100</span></em>, <em class="sig-param"><span class="n">save_dir</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">to_plot</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint">numpy.ndarray</span></span><a class="reference internal" href="_modules/imagingplus/utils/images.html#makeFrameAverageTiff"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.utils.images.makeFrameAverageTiff">¶</a></dt>
<dd>
<p>Creates, plots and/or saves an average image of the specified number of peri-key_frames around the given frame from either the provided tiff_path or the stack array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>frames</strong> – key frames to create peri-average frames.</p></li>
<li><p><strong>tiff_path</strong> – path to tiff file for collecting images.</p></li>
<li><p><strong>stack</strong> – image stack array to use for collecting peri-average images</p></li>
<li><p><strong>peri_frames</strong> – number of frames to collect pre- and post- from key frame</p></li>
<li><p><strong>save_dir</strong> – directory to save tiff images to</p></li>
<li><p><strong>to_plot</strong> – if true, show peri-frame average image</p></li>
<li><p><strong>kwargs</strong> – see kwargs under imagingplus.plotting.plotting.plotImg</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>peri-frame averaged array images</p>
</dd>
</dl>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.utils.images.ImportTiff">
<code class="sig-prename descclassname">imagingplus.utils.images.</code><code class="sig-name descname">ImportTiff</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tiff_path</span></em>, <em class="sig-param"><span class="n">frames</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>Union<span class="p">[</span>tuple<span class="p">,</span><span class="w"> </span>int<span class="p">]</span><span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint">numpy.ndarray</span></span><a class="reference internal" href="_modules/imagingplus/utils/images.html#ImportTiff"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.utils.images.ImportTiff">¶</a></dt>
<dd>
<p>Import multi-frame tiff file from provided <cite>tiff_path</cite>, between specified frames (if provided, optional).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tiff_path</strong> – path to multi-frame tiff file to load</p></li>
<li><p><strong>frames</strong> – optional, load frames between frames specified, or load single frame if int provided.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>stack of tiff images</p>
</dd>
</dl>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.utils.images.SaveDownsampledTiff">
<code class="sig-prename descclassname">imagingplus.utils.images.</code><code class="sig-name descname">SaveDownsampledTiff</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tiff_path</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">stack</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>numpy.array<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">group_by</span><span class="p">:</span><span class="w"> </span><span class="n">int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">4</span></em>, <em class="sig-param"><span class="n">save_as</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/utils/images.html#SaveDownsampledTiff"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.utils.images.SaveDownsampledTiff">¶</a></dt>
<dd>
<p>Create and save a downsampled version of the original tiff file. Original tiff file can be given as a numpy array stack
or a str path to the tiff.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tiff_path</strong> – path to the tiff to downsample</p></li>
<li><p><strong>stack</strong> – numpy array stack of the tiff file already read in</p></li>
<li><p><strong>group_by</strong> – specified interval for grouped averaging of the TIFF</p></li>
<li><p><strong>save_as</strong> – .tif path to save the downsampled tiff to, if none provided it will save to the same parent directory as the provided tiff_path</p></li>
<li><p><strong>plot_zprofile</strong> – if True, plot the zaxis profile using the full TIFF stack provided.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>numpy array containing the downsampled TIFF stack</p>
</dd>
</dl>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.utils.images.WriteTiff">
<code class="sig-prename descclassname">imagingplus.utils.images.</code><code class="sig-name descname">WriteTiff</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">save_path</span></em>, <em class="sig-param"><span class="n">stack</span><span class="p">:</span><span class="w"> </span><span class="n">numpy.array</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/imagingplus/utils/images.html#WriteTiff"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.utils.images.WriteTiff">¶</a></dt>
<dd>
<p>use Tifffile imwrite function to save a numpy array to tiff file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>save_path</strong> – path to save .tiff file (include .tiff extension in path name)</p></li>
<li><p><strong>stack</strong> – array to save as .tiff file</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py function code-definition">
<dt class="sig sig-object py" id="imagingplus.utils.images.make_tiff_stack">
<code class="sig-prename descclassname">imagingplus.utils.images.</code><code class="sig-name descname">make_tiff_stack</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tiff_paths</span><span class="p">:</span><span class="w"> </span><span class="n">list</span></em>, <em class="sig-param"><span class="n">save_path</span><span class="p">:</span><span class="w"> </span><span class="n">Optional<span class="p">[</span>str<span class="p">]</span></span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="default_value">None</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint">numpy.ndarray</span></span><a class="reference internal" href="_modules/imagingplus/utils/images.html#make_tiff_stack"><span class="viewcode-link">[source]</span></a><a aria-label="Click to copy this link" class="headerlink tooltipped tooltipped-ne" data-action="click-&gt;clipboard#copyHeaderLink" data-controller="clipboard" href="#imagingplus.utils.images.make_tiff_stack">¶</a></dt>
<dd>
<p>Concatenate &gt;1 tiff files from <cite>tiff_paths</cite>, and save the output under the .tif file path given under save_path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tiff_paths</strong> – list of tiff paths to stack together.</p></li>
<li><p><strong>save_path</strong> – .tif file path to where the tif should be saved</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>stacked images array</p>
</dd>
</dl>
</dd></dl>
</section>
</section>
</article>
<footer>
<div class="mt-20 mb-4 text-sm text-gray-700 print:mt-4">© 2022, Packer Lab Made with <a href="https://www.sphinx-doc.org">Sphinx 4.4.0</a></div>
</footer></main>
<button class="fixed bottom-0 right-0 z-20 opacity-0 p-4 m-4 tracking-wide bg-gray-900 text-gray-100 transition transform transform-gpu duration-500 translate-y-full" data-action="search#hideSnackbar" data-search-target="snackbar">
  Clear highlights
</button><div class="fixed hidden inset-0 bg-black bg-opacity-50" data-action="click-&gt;sidebar#close" data-sidebar-target="screen">
</div>
</div>
<script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
<script src="_static/jquery.js"></script>
<script src="_static/underscore.js"></script>
<script src="_static/doctools.js"></script>
<script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
<script src="_static/theme.3051a0ec24cad00d4d88.js"></script>
</body>
</html>